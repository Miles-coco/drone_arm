ARM GAS  C:\Users\30514\AppData\Local\Temp\cca9cvz0.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"task.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Module/task/task.c"
  20              		.section	.text.task_1ms,"ax",%progbits
  21              		.align	1
  22              		.global	task_1ms
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	task_1ms:
  28              	.LFB135:
   1:Module/task/task.c **** #include "task.h"
   2:Module/task/task.c **** #include "scheduler.h"
   3:Module/task/task.c **** #include "driver.h"
   4:Module/task/task.c **** #include "dm_ctrl.h"
   5:Module/task/task.c **** #include "dm_drv.h"
   6:Module/task/task.c **** #include "arm_control.h"
   7:Module/task/task.c **** 
   8:Module/task/task.c **** void task_init(void)
   9:Module/task/task.c **** {
  10:Module/task/task.c **** 	//初始化调度器
  11:Module/task/task.c **** 	scheduler_init();
  12:Module/task/task.c **** 
  13:Module/task/task.c **** 	//创建各周期任务
  14:Module/task/task.c ****     create_task(task_1ms, 1, "1ms Fast Loop");
  15:Module/task/task.c ****     create_task(task_5ms, 5, "5ms Control Loop");
  16:Module/task/task.c ****     create_task(task_10ms, 10, "10ms Arm Update");
  17:Module/task/task.c ****     create_task(task_100ms, 100, "100ms Debug Output");
  18:Module/task/task.c **** }
  19:Module/task/task.c **** 
  20:Module/task/task.c **** void task_1ms(void)
  21:Module/task/task.c **** {
  29              		.loc 1 21 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  22:Module/task/task.c **** 
  23:Module/task/task.c **** }
  34              		.loc 1 23 1 view .LVU1
  35 0000 7047     		bx	lr
ARM GAS  C:\Users\30514\AppData\Local\Temp\cca9cvz0.s 			page 2


  36              		.cfi_endproc
  37              	.LFE135:
  39              		.section	.text.task_5ms,"ax",%progbits
  40              		.align	1
  41              		.global	task_5ms
  42              		.syntax unified
  43              		.thumb
  44              		.thumb_func
  46              	task_5ms:
  47              	.LFB137:
  24:Module/task/task.c **** 
  25:Module/task/task.c **** void task_2ms(void)
  26:Module/task/task.c **** {
  27:Module/task/task.c **** 
  28:Module/task/task.c **** }
  29:Module/task/task.c **** 
  30:Module/task/task.c **** void task_5ms(void)
  31:Module/task/task.c **** {
  48              		.loc 1 31 1 view -0
  49              		.cfi_startproc
  50              		@ args = 0, pretend = 0, frame = 0
  51              		@ frame_needed = 0, uses_anonymous_args = 0
  52 0000 08B5     		push	{r3, lr}
  53              	.LCFI0:
  54              		.cfi_def_cfa_offset 8
  55              		.cfi_offset 3, -8
  56              		.cfi_offset 14, -4
  32:Module/task/task.c **** 	ctrl_send();
  57              		.loc 1 32 2 view .LVU3
  58 0002 FFF7FEFF 		bl	ctrl_send
  59              	.LVL0:
  33:Module/task/task.c **** }
  60              		.loc 1 33 1 is_stmt 0 view .LVU4
  61 0006 08BD     		pop	{r3, pc}
  62              		.cfi_endproc
  63              	.LFE137:
  65              		.section	.text.task_10ms,"ax",%progbits
  66              		.align	1
  67              		.global	task_10ms
  68              		.syntax unified
  69              		.thumb
  70              		.thumb_func
  72              	task_10ms:
  73              	.LFB138:
  34:Module/task/task.c **** 
  35:Module/task/task.c **** void task_10ms(void)
  36:Module/task/task.c **** {
  74              		.loc 1 36 1 is_stmt 1 view -0
  75              		.cfi_startproc
  76              		@ args = 0, pretend = 0, frame = 0
  77              		@ frame_needed = 0, uses_anonymous_args = 0
  78 0000 08B5     		push	{r3, lr}
  79              	.LCFI1:
  80              		.cfi_def_cfa_offset 8
  81              		.cfi_offset 3, -8
  82              		.cfi_offset 14, -4
  37:Module/task/task.c **** 	ArmControl_Update();
ARM GAS  C:\Users\30514\AppData\Local\Temp\cca9cvz0.s 			page 3


  83              		.loc 1 37 2 view .LVU6
  84 0002 FFF7FEFF 		bl	ArmControl_Update
  85              	.LVL1:
  38:Module/task/task.c **** }
  86              		.loc 1 38 1 is_stmt 0 view .LVU7
  87 0006 08BD     		pop	{r3, pc}
  88              		.cfi_endproc
  89              	.LFE138:
  91              		.section	.text.task_100ms,"ax",%progbits
  92              		.align	1
  93              		.global	task_100ms
  94              		.syntax unified
  95              		.thumb
  96              		.thumb_func
  98              	task_100ms:
  99              	.LFB139:
  39:Module/task/task.c **** 
  40:Module/task/task.c **** void task_100ms(void)
  41:Module/task/task.c **** {
 100              		.loc 1 41 1 is_stmt 1 view -0
 101              		.cfi_startproc
 102              		@ args = 0, pretend = 0, frame = 24
 103              		@ frame_needed = 0, uses_anonymous_args = 0
  42:Module/task/task.c **** 	// 调试信息输出
  43:Module/task/task.c ****     static uint8_t count = 0;
 104              		.loc 1 43 5 view .LVU9
  44:Module/task/task.c ****     
  45:Module/task/task.c ****     if(count++ >= 10) 
 105              		.loc 1 45 5 view .LVU10
 106              		.loc 1 45 13 is_stmt 0 view .LVU11
 107 0000 0D4A     		ldr	r2, .L13
 108 0002 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 109 0004 591C     		adds	r1, r3, #1
 110 0006 1170     		strb	r1, [r2]
 111              		.loc 1 45 7 view .LVU12
 112 0008 092B     		cmp	r3, #9
 113 000a 00D8     		bhi	.L12
 114 000c 7047     		bx	lr
 115              	.L12:
  41:Module/task/task.c **** 	// 调试信息输出
 116              		.loc 1 41 1 view .LVU13
 117 000e 10B5     		push	{r4, lr}
 118              	.LCFI2:
 119              		.cfi_def_cfa_offset 8
 120              		.cfi_offset 4, -8
 121              		.cfi_offset 14, -4
 122 0010 86B0     		sub	sp, sp, #24
 123              	.LCFI3:
 124              		.cfi_def_cfa_offset 32
 125              	.LBB2:
  46:Module/task/task.c **** 	{ // 每秒输出一次
  47:Module/task/task.c ****         count = 0;
 126              		.loc 1 47 9 is_stmt 1 view .LVU14
 127              		.loc 1 47 15 is_stmt 0 view .LVU15
 128 0012 0024     		movs	r4, #0
 129 0014 1470     		strb	r4, [r2]
  48:Module/task/task.c ****         
ARM GAS  C:\Users\30514\AppData\Local\Temp\cca9cvz0.s 			page 4


  49:Module/task/task.c ****         // 获取当前位置
  50:Module/task/task.c ****         point2D current_pos = Get_Current_Position();
 130              		.loc 1 50 9 is_stmt 1 view .LVU16
 131              		.loc 1 50 31 is_stmt 0 view .LVU17
 132 0016 FFF7FEFF 		bl	Get_Current_Position
 133              	.LVL2:
 134 001a 8DED010A 		vstr.32	s0, [sp, #4]
 135 001e CDED020A 		vstr.32	s1, [sp, #8]
  51:Module/task/task.c ****         
  52:Module/task/task.c ****         // 获取关节角度
  53:Module/task/task.c ****         JointAngles angles = {0};
 136              		.loc 1 53 9 is_stmt 1 view .LVU18
 137              		.loc 1 53 21 is_stmt 0 view .LVU19
 138 0022 0394     		str	r4, [sp, #12]
 139 0024 0494     		str	r4, [sp, #16]
 140 0026 0594     		str	r4, [sp, #20]
  54:Module/task/task.c ****         angles.theta1 = motor[Motor1].para.pos; // 假设存储的是弧度
 141              		.loc 1 54 9 is_stmt 1 view .LVU20
 142              		.loc 1 54 43 is_stmt 0 view .LVU21
 143 0028 044B     		ldr	r3, .L13+4
 144 002a 1A6A     		ldr	r2, [r3, #32]	@ float
 145              		.loc 1 54 23 view .LVU22
 146 002c 0392     		str	r2, [sp, #12]	@ float
  55:Module/task/task.c ****         angles.theta2 = motor[Motor2].para.pos;
 147              		.loc 1 55 9 is_stmt 1 view .LVU23
 148              		.loc 1 55 43 is_stmt 0 view .LVU24
 149 002e D3F88C30 		ldr	r3, [r3, #140]	@ float
 150              		.loc 1 55 23 view .LVU25
 151 0032 0493     		str	r3, [sp, #16]	@ float
 152              	.LBE2:
  56:Module/task/task.c ****         
  57:Module/task/task.c ****         // 实际系统中通过串口输出
  58:Module/task/task.c ****         /*
  59:Module/task/task.c ****         printf("Arm State: %d\n", Get_Arm_State());
  60:Module/task/task.c ****         printf("Position: X=%.3f, Y=%.3f\n", current_pos.x, current_pos.y);
  61:Module/task/task.c ****         printf("Angles: Theta1=%.1f°, Theta2=%.1f°\n", 
  62:Module/task/task.c ****                angles.theta1 * 180/M_PI, angles.theta2 * 180/M_PI);
  63:Module/task/task.c ****         */
  64:Module/task/task.c ****     }
  65:Module/task/task.c **** }
 153              		.loc 1 65 1 view .LVU26
 154 0034 06B0     		add	sp, sp, #24
 155              	.LCFI4:
 156              		.cfi_def_cfa_offset 8
 157              		@ sp needed
 158 0036 10BD     		pop	{r4, pc}
 159              	.L14:
 160              		.align	2
 161              	.L13:
 162 0038 00000000 		.word	count.0
 163 003c 00000000 		.word	motor
 164              		.cfi_endproc
 165              	.LFE139:
 167              		.section	.rodata.task_init.str1.4,"aMS",%progbits,1
 168              		.align	2
 169              	.LC0:
 170 0000 316D7320 		.ascii	"1ms Fast Loop\000"
ARM GAS  C:\Users\30514\AppData\Local\Temp\cca9cvz0.s 			page 5


 170      46617374 
 170      204C6F6F 
 170      7000
 171 000e 0000     		.align	2
 172              	.LC1:
 173 0010 356D7320 		.ascii	"5ms Control Loop\000"
 173      436F6E74 
 173      726F6C20 
 173      4C6F6F70 
 173      00
 174 0021 000000   		.align	2
 175              	.LC2:
 176 0024 31306D73 		.ascii	"10ms Arm Update\000"
 176      2041726D 
 176      20557064 
 176      61746500 
 177              		.align	2
 178              	.LC3:
 179 0034 3130306D 		.ascii	"100ms Debug Output\000"
 179      73204465 
 179      62756720 
 179      4F757470 
 179      757400
 180              		.section	.text.task_init,"ax",%progbits
 181              		.align	1
 182              		.global	task_init
 183              		.syntax unified
 184              		.thumb
 185              		.thumb_func
 187              	task_init:
 188              	.LFB134:
   9:Module/task/task.c **** 	//初始化调度器
 189              		.loc 1 9 1 is_stmt 1 view -0
 190              		.cfi_startproc
 191              		@ args = 0, pretend = 0, frame = 0
 192              		@ frame_needed = 0, uses_anonymous_args = 0
 193 0000 08B5     		push	{r3, lr}
 194              	.LCFI5:
 195              		.cfi_def_cfa_offset 8
 196              		.cfi_offset 3, -8
 197              		.cfi_offset 14, -4
  11:Module/task/task.c **** 
 198              		.loc 1 11 2 view .LVU28
 199 0002 FFF7FEFF 		bl	scheduler_init
 200              	.LVL3:
  14:Module/task/task.c ****     create_task(task_5ms, 5, "5ms Control Loop");
 201              		.loc 1 14 5 view .LVU29
 202 0006 0A4A     		ldr	r2, .L17
 203 0008 0121     		movs	r1, #1
 204 000a 0A48     		ldr	r0, .L17+4
 205 000c FFF7FEFF 		bl	create_task
 206              	.LVL4:
  15:Module/task/task.c ****     create_task(task_10ms, 10, "10ms Arm Update");
 207              		.loc 1 15 5 view .LVU30
 208 0010 094A     		ldr	r2, .L17+8
 209 0012 0521     		movs	r1, #5
 210 0014 0948     		ldr	r0, .L17+12
ARM GAS  C:\Users\30514\AppData\Local\Temp\cca9cvz0.s 			page 6


 211 0016 FFF7FEFF 		bl	create_task
 212              	.LVL5:
  16:Module/task/task.c ****     create_task(task_100ms, 100, "100ms Debug Output");
 213              		.loc 1 16 5 view .LVU31
 214 001a 094A     		ldr	r2, .L17+16
 215 001c 0A21     		movs	r1, #10
 216 001e 0948     		ldr	r0, .L17+20
 217 0020 FFF7FEFF 		bl	create_task
 218              	.LVL6:
  17:Module/task/task.c **** }
 219              		.loc 1 17 5 view .LVU32
 220 0024 084A     		ldr	r2, .L17+24
 221 0026 6421     		movs	r1, #100
 222 0028 0848     		ldr	r0, .L17+28
 223 002a FFF7FEFF 		bl	create_task
 224              	.LVL7:
  18:Module/task/task.c **** 
 225              		.loc 1 18 1 is_stmt 0 view .LVU33
 226 002e 08BD     		pop	{r3, pc}
 227              	.L18:
 228              		.align	2
 229              	.L17:
 230 0030 00000000 		.word	.LC0
 231 0034 00000000 		.word	task_1ms
 232 0038 10000000 		.word	.LC1
 233 003c 00000000 		.word	task_5ms
 234 0040 24000000 		.word	.LC2
 235 0044 00000000 		.word	task_10ms
 236 0048 34000000 		.word	.LC3
 237 004c 00000000 		.word	task_100ms
 238              		.cfi_endproc
 239              	.LFE134:
 241              		.section	.text.task_2ms,"ax",%progbits
 242              		.align	1
 243              		.global	task_2ms
 244              		.syntax unified
 245              		.thumb
 246              		.thumb_func
 248              	task_2ms:
 249              	.LFB136:
  26:Module/task/task.c **** 
 250              		.loc 1 26 1 is_stmt 1 view -0
 251              		.cfi_startproc
 252              		@ args = 0, pretend = 0, frame = 0
 253              		@ frame_needed = 0, uses_anonymous_args = 0
 254              		@ link register save eliminated.
  28:Module/task/task.c **** 
 255              		.loc 1 28 1 view .LVU35
 256 0000 7047     		bx	lr
 257              		.cfi_endproc
 258              	.LFE136:
 260              		.section	.text.task_500ms,"ax",%progbits
 261              		.align	1
 262              		.global	task_500ms
 263              		.syntax unified
 264              		.thumb
 265              		.thumb_func
ARM GAS  C:\Users\30514\AppData\Local\Temp\cca9cvz0.s 			page 7


 267              	task_500ms:
 268              	.LFB140:
  66:Module/task/task.c **** 
  67:Module/task/task.c **** void task_500ms(void)
  68:Module/task/task.c **** {
 269              		.loc 1 68 1 view -0
 270              		.cfi_startproc
 271              		@ args = 0, pretend = 0, frame = 0
 272              		@ frame_needed = 0, uses_anonymous_args = 0
 273              		@ link register save eliminated.
  69:Module/task/task.c **** 
  70:Module/task/task.c **** }
 274              		.loc 1 70 1 view .LVU37
 275 0000 7047     		bx	lr
 276              		.cfi_endproc
 277              	.LFE140:
 279              		.section	.bss.count.0,"aw",%nobits
 282              	count.0:
 283 0000 00       		.space	1
 284              		.text
 285              	.Letext0:
 286              		.file 2 "D:/enviroment/msys2/mingw64/arm-none-eabi/include/machine/_default_types.h"
 287              		.file 3 "D:/enviroment/msys2/mingw64/arm-none-eabi/include/sys/_stdint.h"
 288              		.file 4 "Module/motor/dm_drv.h"
 289              		.file 5 "Module/kinematic/kinematic_solver.h"
 290              		.file 6 "Module/arm_control/arm_control.h"
 291              		.file 7 "Module/motor/dm_ctrl.h"
 292              		.file 8 "Module/scheduler/scheduler.h"
ARM GAS  C:\Users\30514\AppData\Local\Temp\cca9cvz0.s 			page 8


DEFINED SYMBOLS
                            *ABS*:00000000 task.c
C:\Users\30514\AppData\Local\Temp\cca9cvz0.s:21     .text.task_1ms:00000000 $t
C:\Users\30514\AppData\Local\Temp\cca9cvz0.s:27     .text.task_1ms:00000000 task_1ms
C:\Users\30514\AppData\Local\Temp\cca9cvz0.s:40     .text.task_5ms:00000000 $t
C:\Users\30514\AppData\Local\Temp\cca9cvz0.s:46     .text.task_5ms:00000000 task_5ms
C:\Users\30514\AppData\Local\Temp\cca9cvz0.s:66     .text.task_10ms:00000000 $t
C:\Users\30514\AppData\Local\Temp\cca9cvz0.s:72     .text.task_10ms:00000000 task_10ms
C:\Users\30514\AppData\Local\Temp\cca9cvz0.s:92     .text.task_100ms:00000000 $t
C:\Users\30514\AppData\Local\Temp\cca9cvz0.s:98     .text.task_100ms:00000000 task_100ms
C:\Users\30514\AppData\Local\Temp\cca9cvz0.s:162    .text.task_100ms:00000038 $d
C:\Users\30514\AppData\Local\Temp\cca9cvz0.s:282    .bss.count.0:00000000 count.0
C:\Users\30514\AppData\Local\Temp\cca9cvz0.s:168    .rodata.task_init.str1.4:00000000 $d
C:\Users\30514\AppData\Local\Temp\cca9cvz0.s:181    .text.task_init:00000000 $t
C:\Users\30514\AppData\Local\Temp\cca9cvz0.s:187    .text.task_init:00000000 task_init
C:\Users\30514\AppData\Local\Temp\cca9cvz0.s:230    .text.task_init:00000030 $d
C:\Users\30514\AppData\Local\Temp\cca9cvz0.s:242    .text.task_2ms:00000000 $t
C:\Users\30514\AppData\Local\Temp\cca9cvz0.s:248    .text.task_2ms:00000000 task_2ms
C:\Users\30514\AppData\Local\Temp\cca9cvz0.s:261    .text.task_500ms:00000000 $t
C:\Users\30514\AppData\Local\Temp\cca9cvz0.s:267    .text.task_500ms:00000000 task_500ms
C:\Users\30514\AppData\Local\Temp\cca9cvz0.s:283    .bss.count.0:00000000 $d

UNDEFINED SYMBOLS
ctrl_send
ArmControl_Update
Get_Current_Position
motor
scheduler_init
create_task
