ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"dm_drv.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Module/motor/dm_drv.c"
  20              		.section	.text.dm4310_set,"ax",%progbits
  21              		.align	1
  22              		.global	dm4310_set
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	dm4310_set:
  28              	.LVL0:
  29              	.LFB137:
   1:Module/motor/dm_drv.c **** #include "dm_drv.h"
   2:Module/motor/dm_drv.c **** #include "can_driver.h"
   3:Module/motor/dm_drv.c **** #include "can.h"
   4:Module/motor/dm_drv.c **** 
   5:Module/motor/dm_drv.c **** //使能电机函数
   6:Module/motor/dm_drv.c **** void dm4310_enable(hcan_t* hcan, motor_t *motor)
   7:Module/motor/dm_drv.c **** {
   8:Module/motor/dm_drv.c **** 	switch(motor->ctrl.mode)
   9:Module/motor/dm_drv.c **** 	{
  10:Module/motor/dm_drv.c **** 		case 0:
  11:Module/motor/dm_drv.c **** 			enable_motor_mode(hcan, motor->id, MIT_MODE);//如果是0，则mit模式
  12:Module/motor/dm_drv.c **** 			break;
  13:Module/motor/dm_drv.c **** 		case 1:
  14:Module/motor/dm_drv.c **** 			enable_motor_mode(hcan, motor->id, POS_MODE);//如果是1，则位置模式
  15:Module/motor/dm_drv.c **** 			break;
  16:Module/motor/dm_drv.c **** 		case 2:
  17:Module/motor/dm_drv.c **** 			enable_motor_mode(hcan, motor->id, SPEED_MODE);//如果是2，则速度模式
  18:Module/motor/dm_drv.c **** 			break;
  19:Module/motor/dm_drv.c **** 	}	
  20:Module/motor/dm_drv.c **** }
  21:Module/motor/dm_drv.c **** 
  22:Module/motor/dm_drv.c **** //失能电机函数，根据电机模式来失能
  23:Module/motor/dm_drv.c **** void dm4310_disable(hcan_t* hcan, motor_t *motor)
  24:Module/motor/dm_drv.c **** {
  25:Module/motor/dm_drv.c **** 	switch(motor->ctrl.mode)
  26:Module/motor/dm_drv.c **** 	{
  27:Module/motor/dm_drv.c **** 		case 0:
  28:Module/motor/dm_drv.c **** 			disable_motor_mode(hcan, motor->id, MIT_MODE);
  29:Module/motor/dm_drv.c **** 			break;
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 2


  30:Module/motor/dm_drv.c **** 		case 1:
  31:Module/motor/dm_drv.c **** 			disable_motor_mode(hcan, motor->id, POS_MODE);
  32:Module/motor/dm_drv.c **** 			break;
  33:Module/motor/dm_drv.c **** 		case 2:
  34:Module/motor/dm_drv.c **** 			disable_motor_mode(hcan, motor->id, SPEED_MODE);
  35:Module/motor/dm_drv.c **** 			break;
  36:Module/motor/dm_drv.c **** 	}	
  37:Module/motor/dm_drv.c **** 	dm4310_clear_para(motor);
  38:Module/motor/dm_drv.c **** }
  39:Module/motor/dm_drv.c **** 
  40:Module/motor/dm_drv.c **** //发送电机指令函数
  41:Module/motor/dm_drv.c **** void dm4310_ctrl_send(hcan_t* hcan, motor_t *motor)
  42:Module/motor/dm_drv.c **** {
  43:Module/motor/dm_drv.c **** 	switch(motor->ctrl.mode)
  44:Module/motor/dm_drv.c **** 	{
  45:Module/motor/dm_drv.c **** 		case 0:
  46:Module/motor/dm_drv.c **** 			mit_ctrl(hcan, motor->id, motor->ctrl.pos_set, motor->ctrl.vel_set, motor->ctrl.kp_set, motor->c
  47:Module/motor/dm_drv.c **** 			break;
  48:Module/motor/dm_drv.c **** 		case 1:
  49:Module/motor/dm_drv.c **** 			pos_speed_ctrl(hcan, motor->id, motor->ctrl.pos_set, motor->ctrl.vel_set);
  50:Module/motor/dm_drv.c **** 			break;
  51:Module/motor/dm_drv.c **** 		case 2:
  52:Module/motor/dm_drv.c **** 			speed_ctrl(hcan, motor->id, motor->ctrl.vel_set);
  53:Module/motor/dm_drv.c **** 			break;
  54:Module/motor/dm_drv.c **** 	}	
  55:Module/motor/dm_drv.c **** }
  56:Module/motor/dm_drv.c **** 
  57:Module/motor/dm_drv.c **** //motor_t是一个用于存储各项电机参数的结构体，该函数的核心作用是将用户
  58:Module/motor/dm_drv.c **** void dm4310_set(motor_t *motor)
  59:Module/motor/dm_drv.c **** {
  30              		.loc 1 59 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  60:Module/motor/dm_drv.c **** 	motor->ctrl.kd_set 	= motor->cmd.kd_set;
  35              		.loc 1 60 2 view .LVU1
  36              		.loc 1 60 34 is_stmt 0 view .LVU2
  37 0000 836E     		ldr	r3, [r0, #104]	@ float
  38              		.loc 1 60 22 view .LVU3
  39 0002 0365     		str	r3, [r0, #80]	@ float
  61:Module/motor/dm_drv.c **** 	motor->ctrl.kp_set	= motor->cmd.kp_set;
  40              		.loc 1 61 2 is_stmt 1 view .LVU4
  41              		.loc 1 61 33 is_stmt 0 view .LVU5
  42 0004 436E     		ldr	r3, [r0, #100]	@ float
  43              		.loc 1 61 21 view .LVU6
  44 0006 C364     		str	r3, [r0, #76]	@ float
  62:Module/motor/dm_drv.c **** 	motor->ctrl.pos_set	= motor->cmd.pos_set;
  45              		.loc 1 62 2 is_stmt 1 view .LVU7
  46              		.loc 1 62 34 is_stmt 0 view .LVU8
  47 0008 836D     		ldr	r3, [r0, #88]	@ float
  48              		.loc 1 62 22 view .LVU9
  49 000a 0364     		str	r3, [r0, #64]	@ float
  63:Module/motor/dm_drv.c **** 	motor->ctrl.vel_set	= motor->cmd.vel_set;
  50              		.loc 1 63 2 is_stmt 1 view .LVU10
  51              		.loc 1 63 34 is_stmt 0 view .LVU11
  52 000c C36D     		ldr	r3, [r0, #92]	@ float
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 3


  53              		.loc 1 63 22 view .LVU12
  54 000e 4364     		str	r3, [r0, #68]	@ float
  64:Module/motor/dm_drv.c **** 	motor->ctrl.tor_set	= motor->cmd.tor_set;
  55              		.loc 1 64 2 is_stmt 1 view .LVU13
  56              		.loc 1 64 34 is_stmt 0 view .LVU14
  57 0010 036E     		ldr	r3, [r0, #96]	@ float
  58              		.loc 1 64 22 view .LVU15
  59 0012 8364     		str	r3, [r0, #72]	@ float
  65:Module/motor/dm_drv.c **** 
  66:Module/motor/dm_drv.c **** }
  60              		.loc 1 66 1 view .LVU16
  61 0014 7047     		bx	lr
  62              		.cfi_endproc
  63              	.LFE137:
  65              		.section	.text.dm4310_clear_para,"ax",%progbits
  66              		.align	1
  67              		.global	dm4310_clear_para
  68              		.syntax unified
  69              		.thumb
  70              		.thumb_func
  72              	dm4310_clear_para:
  73              	.LVL1:
  74              	.LFB138:
  67:Module/motor/dm_drv.c **** 
  68:Module/motor/dm_drv.c **** //重置电机各项参数
  69:Module/motor/dm_drv.c **** void dm4310_clear_para(motor_t *motor)
  70:Module/motor/dm_drv.c **** {
  75              		.loc 1 70 1 is_stmt 1 view -0
  76              		.cfi_startproc
  77              		@ args = 0, pretend = 0, frame = 0
  78              		@ frame_needed = 0, uses_anonymous_args = 0
  79              		@ link register save eliminated.
  71:Module/motor/dm_drv.c **** 	motor->cmd.kd_set 	= 0;
  80              		.loc 1 71 2 view .LVU18
  81              		.loc 1 71 21 is_stmt 0 view .LVU19
  82 0000 0023     		movs	r3, #0
  83 0002 8366     		str	r3, [r0, #104]	@ float
  72:Module/motor/dm_drv.c **** 	motor->cmd.kp_set	 	= 0;
  84              		.loc 1 72 2 is_stmt 1 view .LVU20
  85              		.loc 1 72 22 is_stmt 0 view .LVU21
  86 0004 4366     		str	r3, [r0, #100]	@ float
  73:Module/motor/dm_drv.c **** 	motor->cmd.pos_set 	= 0;
  87              		.loc 1 73 2 is_stmt 1 view .LVU22
  88              		.loc 1 73 22 is_stmt 0 view .LVU23
  89 0006 8365     		str	r3, [r0, #88]	@ float
  74:Module/motor/dm_drv.c **** 	motor->cmd.vel_set 	= 0;
  90              		.loc 1 74 2 is_stmt 1 view .LVU24
  91              		.loc 1 74 22 is_stmt 0 view .LVU25
  92 0008 C365     		str	r3, [r0, #92]	@ float
  75:Module/motor/dm_drv.c **** 	motor->cmd.tor_set 	= 0;
  93              		.loc 1 75 2 is_stmt 1 view .LVU26
  94              		.loc 1 75 22 is_stmt 0 view .LVU27
  95 000a 0366     		str	r3, [r0, #96]	@ float
  76:Module/motor/dm_drv.c **** 	
  77:Module/motor/dm_drv.c **** 	motor->ctrl.kd_set 	= 0;
  96              		.loc 1 77 2 is_stmt 1 view .LVU28
  97              		.loc 1 77 22 is_stmt 0 view .LVU29
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 4


  98 000c 0365     		str	r3, [r0, #80]	@ float
  78:Module/motor/dm_drv.c **** 	motor->ctrl.kp_set	= 0;
  99              		.loc 1 78 2 is_stmt 1 view .LVU30
 100              		.loc 1 78 21 is_stmt 0 view .LVU31
 101 000e C364     		str	r3, [r0, #76]	@ float
  79:Module/motor/dm_drv.c **** 	motor->ctrl.pos_set = 0;
 102              		.loc 1 79 2 is_stmt 1 view .LVU32
 103              		.loc 1 79 22 is_stmt 0 view .LVU33
 104 0010 0364     		str	r3, [r0, #64]	@ float
  80:Module/motor/dm_drv.c **** 	motor->ctrl.vel_set = 0;
 105              		.loc 1 80 2 is_stmt 1 view .LVU34
 106              		.loc 1 80 22 is_stmt 0 view .LVU35
 107 0012 4364     		str	r3, [r0, #68]	@ float
  81:Module/motor/dm_drv.c **** 	motor->ctrl.tor_set = 0;
 108              		.loc 1 81 2 is_stmt 1 view .LVU36
 109              		.loc 1 81 22 is_stmt 0 view .LVU37
 110 0014 8364     		str	r3, [r0, #72]	@ float
  82:Module/motor/dm_drv.c **** }
 111              		.loc 1 82 1 view .LVU38
 112 0016 7047     		bx	lr
 113              		.cfi_endproc
 114              	.LFE138:
 116              		.section	.text.float_to_uint,"ax",%progbits
 117              		.align	1
 118              		.global	float_to_uint
 119              		.syntax unified
 120              		.thumb
 121              		.thumb_func
 123              	float_to_uint:
 124              	.LVL2:
 125              	.LFB141:
  83:Module/motor/dm_drv.c **** 
  84:Module/motor/dm_drv.c **** //用于清除电机在特定模式下可能产生的错误状态
  85:Module/motor/dm_drv.c **** void dm4310_clear_err(hcan_t* hcan, motor_t *motor)
  86:Module/motor/dm_drv.c **** {
  87:Module/motor/dm_drv.c **** 	switch(motor->ctrl.mode)
  88:Module/motor/dm_drv.c **** 	{
  89:Module/motor/dm_drv.c **** 		case 0:
  90:Module/motor/dm_drv.c **** 			clear_err(hcan, motor->id, MIT_MODE);
  91:Module/motor/dm_drv.c **** 			break;
  92:Module/motor/dm_drv.c **** 		case 1:
  93:Module/motor/dm_drv.c **** 			clear_err(hcan, motor->id, POS_MODE);
  94:Module/motor/dm_drv.c **** 			break;
  95:Module/motor/dm_drv.c **** 		case 2:
  96:Module/motor/dm_drv.c **** 			clear_err(hcan, motor->id, SPEED_MODE);
  97:Module/motor/dm_drv.c **** 			break;
  98:Module/motor/dm_drv.c **** 	}	
  99:Module/motor/dm_drv.c **** }
 100:Module/motor/dm_drv.c **** 
 101:Module/motor/dm_drv.c **** //通过运算得到电机的反馈值
 102:Module/motor/dm_drv.c **** void dm4310_fbdata(motor_t *motor, uint8_t *rx_data)
 103:Module/motor/dm_drv.c **** {
 104:Module/motor/dm_drv.c **** 	motor->para.id = (rx_data[0])&0x0F;                                 //电机id
 105:Module/motor/dm_drv.c **** 	motor->para.state = (rx_data[0])>>4;								//电机状态
 106:Module/motor/dm_drv.c **** 	motor->para.p_int=(rx_data[1]<<8)|rx_data[2];						//位置反馈
 107:Module/motor/dm_drv.c **** 	motor->para.v_int=(rx_data[3]<<4)|(rx_data[4]>>4);					//速度反馈
 108:Module/motor/dm_drv.c **** 	motor->para.t_int=((rx_data[4]&0xF)<<8)|rx_data[5];					//转矩反馈
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 5


 109:Module/motor/dm_drv.c **** 	motor->para.pos = uint_to_float(motor->para.p_int, P_MIN, P_MAX, 16); // (-12.5,12.5)
 110:Module/motor/dm_drv.c **** 	motor->para.vel = uint_to_float(motor->para.v_int, V_MIN, V_MAX, 12); // (-45.0,45.0)
 111:Module/motor/dm_drv.c **** 	motor->para.tor = uint_to_float(motor->para.t_int, T_MIN, T_MAX, 12);  // (-18.0,18.0)
 112:Module/motor/dm_drv.c **** 	motor->para.Tmos = (float)(rx_data[6]);								//mos温度反馈
 113:Module/motor/dm_drv.c **** 	motor->para.Tcoil = (float)(rx_data[7]);							//电机线圈温度反馈
 114:Module/motor/dm_drv.c **** }
 115:Module/motor/dm_drv.c **** 
 116:Module/motor/dm_drv.c **** 
 117:Module/motor/dm_drv.c **** 
 118:Module/motor/dm_drv.c **** int float_to_uint(float x_float, float x_min, float x_max, int bits)
 119:Module/motor/dm_drv.c **** {
 126              		.loc 1 119 1 is_stmt 1 view -0
 127              		.cfi_startproc
 128              		@ args = 0, pretend = 0, frame = 0
 129              		@ frame_needed = 0, uses_anonymous_args = 0
 130              		@ link register save eliminated.
 120:Module/motor/dm_drv.c **** 	/* Converts a float to an unsigned int, given range and number of bits */
 121:Module/motor/dm_drv.c **** 	float span = x_max - x_min;
 131              		.loc 1 121 2 view .LVU40
 132              		.loc 1 121 8 is_stmt 0 view .LVU41
 133 0000 31EE601A 		vsub.f32	s2, s2, s1
 134              	.LVL3:
 122:Module/motor/dm_drv.c **** 	float offset = x_min;
 135              		.loc 1 122 2 is_stmt 1 view .LVU42
 123:Module/motor/dm_drv.c **** 	return (int) ((x_float-offset)*((float)((1<<bits)-1))/span);
 136              		.loc 1 123 2 view .LVU43
 137              		.loc 1 123 24 is_stmt 0 view .LVU44
 138 0004 30EE600A 		vsub.f32	s0, s0, s1
 139              	.LVL4:
 140              		.loc 1 123 44 view .LVU45
 141 0008 0123     		movs	r3, #1
 142 000a 8340     		lsls	r3, r3, r0
 143              		.loc 1 123 51 view .LVU46
 144 000c 013B     		subs	r3, r3, #1
 145              		.loc 1 123 34 view .LVU47
 146 000e 07EE903A 		vmov	s15, r3	@ int
 147 0012 F8EEE77A 		vcvt.f32.s32	s15, s15
 148              		.loc 1 123 32 view .LVU48
 149 0016 20EE270A 		vmul.f32	s0, s0, s15
 150              		.loc 1 123 55 view .LVU49
 151 001a C0EE017A 		vdiv.f32	s15, s0, s2
 124:Module/motor/dm_drv.c **** }
 152              		.loc 1 124 1 view .LVU50
 153 001e FDEEE77A 		vcvt.s32.f32	s15, s15
 154 0022 17EE900A 		vmov	r0, s15	@ int
 155              	.LVL5:
 156              		.loc 1 124 1 view .LVU51
 157 0026 7047     		bx	lr
 158              		.cfi_endproc
 159              	.LFE141:
 161              		.section	.text.uint_to_float,"ax",%progbits
 162              		.align	1
 163              		.global	uint_to_float
 164              		.syntax unified
 165              		.thumb
 166              		.thumb_func
 168              	uint_to_float:
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 6


 169              	.LVL6:
 170              	.LFB142:
 125:Module/motor/dm_drv.c **** 
 126:Module/motor/dm_drv.c **** 
 127:Module/motor/dm_drv.c **** float uint_to_float(int x_int, float x_min, float x_max, int bits)
 128:Module/motor/dm_drv.c **** {
 171              		.loc 1 128 1 is_stmt 1 view -0
 172              		.cfi_startproc
 173              		@ args = 0, pretend = 0, frame = 0
 174              		@ frame_needed = 0, uses_anonymous_args = 0
 175              		@ link register save eliminated.
 176              		.loc 1 128 1 is_stmt 0 view .LVU53
 177 0000 07EE900A 		vmov	s15, r0	@ int
 129:Module/motor/dm_drv.c **** 	/* converts unsigned int to float, given range and number of bits */
 130:Module/motor/dm_drv.c **** 	float span = x_max - x_min;
 178              		.loc 1 130 2 is_stmt 1 view .LVU54
 179              		.loc 1 130 8 is_stmt 0 view .LVU55
 180 0004 70EEC00A 		vsub.f32	s1, s1, s0
 181              	.LVL7:
 131:Module/motor/dm_drv.c **** 	float offset = x_min;
 182              		.loc 1 131 2 is_stmt 1 view .LVU56
 132:Module/motor/dm_drv.c **** 	return ((float)x_int)*span/((float)((1<<bits)-1)) + offset;
 183              		.loc 1 132 2 view .LVU57
 184              		.loc 1 132 10 is_stmt 0 view .LVU58
 185 0008 F8EEE77A 		vcvt.f32.s32	s15, s15
 186              		.loc 1 132 23 view .LVU59
 187 000c 27EEA07A 		vmul.f32	s14, s15, s1
 188              		.loc 1 132 40 view .LVU60
 189 0010 0123     		movs	r3, #1
 190 0012 8B40     		lsls	r3, r3, r1
 191              		.loc 1 132 47 view .LVU61
 192 0014 013B     		subs	r3, r3, #1
 193              		.loc 1 132 30 view .LVU62
 194 0016 07EE903A 		vmov	s15, r3	@ int
 195 001a F8EEE77A 		vcvt.f32.s32	s15, s15
 196              		.loc 1 132 28 view .LVU63
 197 001e C7EE276A 		vdiv.f32	s13, s14, s15
 133:Module/motor/dm_drv.c **** }
 198              		.loc 1 133 1 view .LVU64
 199 0022 36EE800A 		vadd.f32	s0, s13, s0
 200              	.LVL8:
 201              		.loc 1 133 1 view .LVU65
 202 0026 7047     		bx	lr
 203              		.cfi_endproc
 204              	.LFE142:
 206              		.section	.text.dm4310_fbdata,"ax",%progbits
 207              		.align	1
 208              		.global	dm4310_fbdata
 209              		.syntax unified
 210              		.thumb
 211              		.thumb_func
 213              	dm4310_fbdata:
 214              	.LVL9:
 215              	.LFB140:
 103:Module/motor/dm_drv.c **** 	motor->para.id = (rx_data[0])&0x0F;                                 //电机id
 216              		.loc 1 103 1 is_stmt 1 view -0
 217              		.cfi_startproc
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 7


 218              		@ args = 0, pretend = 0, frame = 0
 219              		@ frame_needed = 0, uses_anonymous_args = 0
 103:Module/motor/dm_drv.c **** 	motor->para.id = (rx_data[0])&0x0F;                                 //电机id
 220              		.loc 1 103 1 is_stmt 0 view .LVU67
 221 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 222              	.LCFI0:
 223              		.cfi_def_cfa_offset 24
 224              		.cfi_offset 3, -24
 225              		.cfi_offset 4, -20
 226              		.cfi_offset 5, -16
 227              		.cfi_offset 6, -12
 228              		.cfi_offset 7, -8
 229              		.cfi_offset 14, -4
 230 0002 0446     		mov	r4, r0
 231 0004 0D46     		mov	r5, r1
 104:Module/motor/dm_drv.c **** 	motor->para.state = (rx_data[0])>>4;								//电机状态
 232              		.loc 1 104 2 is_stmt 1 view .LVU68
 104:Module/motor/dm_drv.c **** 	motor->para.state = (rx_data[0])>>4;								//电机状态
 233              		.loc 1 104 27 is_stmt 0 view .LVU69
 234 0006 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 104:Module/motor/dm_drv.c **** 	motor->para.state = (rx_data[0])>>4;								//电机状态
 235              		.loc 1 104 31 view .LVU70
 236 0008 03F00F03 		and	r3, r3, #15
 104:Module/motor/dm_drv.c **** 	motor->para.state = (rx_data[0])>>4;								//电机状态
 237              		.loc 1 104 17 view .LVU71
 238 000c 4360     		str	r3, [r0, #4]
 105:Module/motor/dm_drv.c **** 	motor->para.p_int=(rx_data[1]<<8)|rx_data[2];						//位置反馈
 239              		.loc 1 105 2 is_stmt 1 view .LVU72
 105:Module/motor/dm_drv.c **** 	motor->para.p_int=(rx_data[1]<<8)|rx_data[2];						//位置反馈
 240              		.loc 1 105 30 is_stmt 0 view .LVU73
 241 000e 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 105:Module/motor/dm_drv.c **** 	motor->para.p_int=(rx_data[1]<<8)|rx_data[2];						//位置反馈
 242              		.loc 1 105 34 view .LVU74
 243 0010 1B09     		lsrs	r3, r3, #4
 105:Module/motor/dm_drv.c **** 	motor->para.p_int=(rx_data[1]<<8)|rx_data[2];						//位置反馈
 244              		.loc 1 105 20 view .LVU75
 245 0012 8360     		str	r3, [r0, #8]
 106:Module/motor/dm_drv.c **** 	motor->para.v_int=(rx_data[3]<<4)|(rx_data[4]>>4);					//速度反馈
 246              		.loc 1 106 2 is_stmt 1 view .LVU76
 106:Module/motor/dm_drv.c **** 	motor->para.v_int=(rx_data[3]<<4)|(rx_data[4]>>4);					//速度反馈
 247              		.loc 1 106 28 is_stmt 0 view .LVU77
 248 0014 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 106:Module/motor/dm_drv.c **** 	motor->para.v_int=(rx_data[3]<<4)|(rx_data[4]>>4);					//速度反馈
 249              		.loc 1 106 43 view .LVU78
 250 0016 8878     		ldrb	r0, [r1, #2]	@ zero_extendqisi2
 251              	.LVL10:
 106:Module/motor/dm_drv.c **** 	motor->para.v_int=(rx_data[3]<<4)|(rx_data[4]>>4);					//速度反馈
 252              		.loc 1 106 35 view .LVU79
 253 0018 40EA0320 		orr	r0, r0, r3, lsl #8
 106:Module/motor/dm_drv.c **** 	motor->para.v_int=(rx_data[3]<<4)|(rx_data[4]>>4);					//速度反馈
 254              		.loc 1 106 19 view .LVU80
 255 001c E060     		str	r0, [r4, #12]
 107:Module/motor/dm_drv.c **** 	motor->para.t_int=((rx_data[4]&0xF)<<8)|rx_data[5];					//转矩反馈
 256              		.loc 1 107 2 is_stmt 1 view .LVU81
 107:Module/motor/dm_drv.c **** 	motor->para.t_int=((rx_data[4]&0xF)<<8)|rx_data[5];					//转矩反馈
 257              		.loc 1 107 28 is_stmt 0 view .LVU82
 258 001e CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 8


 107:Module/motor/dm_drv.c **** 	motor->para.t_int=((rx_data[4]&0xF)<<8)|rx_data[5];					//转矩反馈
 259              		.loc 1 107 44 view .LVU83
 260 0020 0F79     		ldrb	r7, [r1, #4]	@ zero_extendqisi2
 107:Module/motor/dm_drv.c **** 	motor->para.t_int=((rx_data[4]&0xF)<<8)|rx_data[5];					//转矩反馈
 261              		.loc 1 107 47 view .LVU84
 262 0022 3F09     		lsrs	r7, r7, #4
 107:Module/motor/dm_drv.c **** 	motor->para.t_int=((rx_data[4]&0xF)<<8)|rx_data[5];					//转矩反馈
 263              		.loc 1 107 35 view .LVU85
 264 0024 47EA0317 		orr	r7, r7, r3, lsl #4
 107:Module/motor/dm_drv.c **** 	motor->para.t_int=((rx_data[4]&0xF)<<8)|rx_data[5];					//转矩反馈
 265              		.loc 1 107 19 view .LVU86
 266 0028 2761     		str	r7, [r4, #16]
 108:Module/motor/dm_drv.c **** 	motor->para.pos = uint_to_float(motor->para.p_int, P_MIN, P_MAX, 16); // (-12.5,12.5)
 267              		.loc 1 108 2 is_stmt 1 view .LVU87
 108:Module/motor/dm_drv.c **** 	motor->para.pos = uint_to_float(motor->para.p_int, P_MIN, P_MAX, 16); // (-12.5,12.5)
 268              		.loc 1 108 29 is_stmt 0 view .LVU88
 269 002a 0E79     		ldrb	r6, [r1, #4]	@ zero_extendqisi2
 108:Module/motor/dm_drv.c **** 	motor->para.pos = uint_to_float(motor->para.p_int, P_MIN, P_MAX, 16); // (-12.5,12.5)
 270              		.loc 1 108 37 view .LVU89
 271 002c 3602     		lsls	r6, r6, #8
 272 002e 06F47066 		and	r6, r6, #3840
 108:Module/motor/dm_drv.c **** 	motor->para.pos = uint_to_float(motor->para.p_int, P_MIN, P_MAX, 16); // (-12.5,12.5)
 273              		.loc 1 108 49 view .LVU90
 274 0032 4B79     		ldrb	r3, [r1, #5]	@ zero_extendqisi2
 108:Module/motor/dm_drv.c **** 	motor->para.pos = uint_to_float(motor->para.p_int, P_MIN, P_MAX, 16); // (-12.5,12.5)
 275              		.loc 1 108 41 view .LVU91
 276 0034 1E43     		orrs	r6, r6, r3
 108:Module/motor/dm_drv.c **** 	motor->para.pos = uint_to_float(motor->para.p_int, P_MIN, P_MAX, 16); // (-12.5,12.5)
 277              		.loc 1 108 19 view .LVU92
 278 0036 6661     		str	r6, [r4, #20]
 109:Module/motor/dm_drv.c **** 	motor->para.vel = uint_to_float(motor->para.v_int, V_MIN, V_MAX, 12); // (-45.0,45.0)
 279              		.loc 1 109 2 is_stmt 1 view .LVU93
 109:Module/motor/dm_drv.c **** 	motor->para.vel = uint_to_float(motor->para.v_int, V_MIN, V_MAX, 12); // (-45.0,45.0)
 280              		.loc 1 109 20 is_stmt 0 view .LVU94
 281 0038 1021     		movs	r1, #16
 282              	.LVL11:
 109:Module/motor/dm_drv.c **** 	motor->para.vel = uint_to_float(motor->para.v_int, V_MIN, V_MAX, 12); // (-45.0,45.0)
 283              		.loc 1 109 20 view .LVU95
 284 003a F2EE090A 		vmov.f32	s1, #1.25e+1
 285 003e BAEE090A 		vmov.f32	s0, #-1.25e+1
 286 0042 FFF7FEFF 		bl	uint_to_float
 287              	.LVL12:
 109:Module/motor/dm_drv.c **** 	motor->para.vel = uint_to_float(motor->para.v_int, V_MIN, V_MAX, 12); // (-45.0,45.0)
 288              		.loc 1 109 18 discriminator 1 view .LVU96
 289 0046 84ED080A 		vstr.32	s0, [r4, #32]
 110:Module/motor/dm_drv.c **** 	motor->para.tor = uint_to_float(motor->para.t_int, T_MIN, T_MAX, 12);  // (-18.0,18.0)
 290              		.loc 1 110 2 is_stmt 1 view .LVU97
 110:Module/motor/dm_drv.c **** 	motor->para.tor = uint_to_float(motor->para.t_int, T_MIN, T_MAX, 12);  // (-18.0,18.0)
 291              		.loc 1 110 20 is_stmt 0 view .LVU98
 292 004a 0C21     		movs	r1, #12
 293 004c F3EE0E0A 		vmov.f32	s1, #3.0e+1
 294 0050 BBEE0E0A 		vmov.f32	s0, #-3.0e+1
 295 0054 3846     		mov	r0, r7
 296 0056 FFF7FEFF 		bl	uint_to_float
 297              	.LVL13:
 110:Module/motor/dm_drv.c **** 	motor->para.tor = uint_to_float(motor->para.t_int, T_MIN, T_MAX, 12);  // (-18.0,18.0)
 298              		.loc 1 110 18 discriminator 1 view .LVU99
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 9


 299 005a 84ED090A 		vstr.32	s0, [r4, #36]
 111:Module/motor/dm_drv.c **** 	motor->para.Tmos = (float)(rx_data[6]);								//mos温度反馈
 300              		.loc 1 111 2 is_stmt 1 view .LVU100
 111:Module/motor/dm_drv.c **** 	motor->para.Tmos = (float)(rx_data[6]);								//mos温度反馈
 301              		.loc 1 111 20 is_stmt 0 view .LVU101
 302 005e 0C21     		movs	r1, #12
 303 0060 F2EE040A 		vmov.f32	s1, #1.0e+1
 304 0064 BAEE040A 		vmov.f32	s0, #-1.0e+1
 305 0068 3046     		mov	r0, r6
 306 006a FFF7FEFF 		bl	uint_to_float
 307              	.LVL14:
 111:Module/motor/dm_drv.c **** 	motor->para.Tmos = (float)(rx_data[6]);								//mos温度反馈
 308              		.loc 1 111 18 discriminator 1 view .LVU102
 309 006e 84ED0A0A 		vstr.32	s0, [r4, #40]
 112:Module/motor/dm_drv.c **** 	motor->para.Tcoil = (float)(rx_data[7]);							//电机线圈温度反馈
 310              		.loc 1 112 2 is_stmt 1 view .LVU103
 112:Module/motor/dm_drv.c **** 	motor->para.Tcoil = (float)(rx_data[7]);							//电机线圈温度反馈
 311              		.loc 1 112 36 is_stmt 0 view .LVU104
 312 0072 AB79     		ldrb	r3, [r5, #6]	@ zero_extendqisi2
 313 0074 07EE903A 		vmov	s15, r3	@ int
 112:Module/motor/dm_drv.c **** 	motor->para.Tcoil = (float)(rx_data[7]);							//电机线圈温度反馈
 314              		.loc 1 112 21 view .LVU105
 315 0078 F8EE677A 		vcvt.f32.u32	s15, s15
 112:Module/motor/dm_drv.c **** 	motor->para.Tcoil = (float)(rx_data[7]);							//电机线圈温度反馈
 316              		.loc 1 112 19 view .LVU106
 317 007c C4ED0D7A 		vstr.32	s15, [r4, #52]
 113:Module/motor/dm_drv.c **** }
 318              		.loc 1 113 2 is_stmt 1 view .LVU107
 113:Module/motor/dm_drv.c **** }
 319              		.loc 1 113 37 is_stmt 0 view .LVU108
 320 0080 EB79     		ldrb	r3, [r5, #7]	@ zero_extendqisi2
 321 0082 07EE903A 		vmov	s15, r3	@ int
 113:Module/motor/dm_drv.c **** }
 322              		.loc 1 113 22 view .LVU109
 323 0086 F8EE677A 		vcvt.f32.u32	s15, s15
 113:Module/motor/dm_drv.c **** }
 324              		.loc 1 113 20 view .LVU110
 325 008a C4ED0E7A 		vstr.32	s15, [r4, #56]
 114:Module/motor/dm_drv.c **** 
 326              		.loc 1 114 1 view .LVU111
 327 008e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 114:Module/motor/dm_drv.c **** 
 328              		.loc 1 114 1 view .LVU112
 329              		.cfi_endproc
 330              	.LFE140:
 332              		.section	.text.enable_motor_mode,"ax",%progbits
 333              		.align	1
 334              		.global	enable_motor_mode
 335              		.syntax unified
 336              		.thumb
 337              		.thumb_func
 339              	enable_motor_mode:
 340              	.LVL15:
 341              	.LFB143:
 134:Module/motor/dm_drv.c **** 
 135:Module/motor/dm_drv.c **** 
 136:Module/motor/dm_drv.c **** void enable_motor_mode(hcan_t* hcan, uint16_t motor_id, uint16_t mode_id)
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 10


 137:Module/motor/dm_drv.c **** {
 342              		.loc 1 137 1 is_stmt 1 view -0
 343              		.cfi_startproc
 344              		@ args = 0, pretend = 0, frame = 8
 345              		@ frame_needed = 0, uses_anonymous_args = 0
 346              		.loc 1 137 1 is_stmt 0 view .LVU114
 347 0000 00B5     		push	{lr}
 348              	.LCFI1:
 349              		.cfi_def_cfa_offset 4
 350              		.cfi_offset 14, -4
 351 0002 83B0     		sub	sp, sp, #12
 352              	.LCFI2:
 353              		.cfi_def_cfa_offset 16
 138:Module/motor/dm_drv.c **** 	uint8_t data[8];
 354              		.loc 1 138 2 is_stmt 1 view .LVU115
 139:Module/motor/dm_drv.c **** 	uint16_t id = motor_id + mode_id;
 355              		.loc 1 139 2 view .LVU116
 356              		.loc 1 139 11 is_stmt 0 view .LVU117
 357 0004 1144     		add	r1, r1, r2
 358              	.LVL16:
 140:Module/motor/dm_drv.c **** 	
 141:Module/motor/dm_drv.c **** 	data[0] = 0xFF;
 359              		.loc 1 141 2 is_stmt 1 view .LVU118
 360              		.loc 1 141 10 is_stmt 0 view .LVU119
 361 0006 FF23     		movs	r3, #255
 362 0008 8DF80030 		strb	r3, [sp]
 142:Module/motor/dm_drv.c **** 	data[1] = 0xFF;
 363              		.loc 1 142 2 is_stmt 1 view .LVU120
 364              		.loc 1 142 10 is_stmt 0 view .LVU121
 365 000c 8DF80130 		strb	r3, [sp, #1]
 143:Module/motor/dm_drv.c **** 	data[2] = 0xFF;
 366              		.loc 1 143 2 is_stmt 1 view .LVU122
 367              		.loc 1 143 10 is_stmt 0 view .LVU123
 368 0010 8DF80230 		strb	r3, [sp, #2]
 144:Module/motor/dm_drv.c **** 	data[3] = 0xFF;
 369              		.loc 1 144 2 is_stmt 1 view .LVU124
 370              		.loc 1 144 10 is_stmt 0 view .LVU125
 371 0014 8DF80330 		strb	r3, [sp, #3]
 145:Module/motor/dm_drv.c **** 	data[4] = 0xFF;
 372              		.loc 1 145 2 is_stmt 1 view .LVU126
 373              		.loc 1 145 10 is_stmt 0 view .LVU127
 374 0018 8DF80430 		strb	r3, [sp, #4]
 146:Module/motor/dm_drv.c **** 	data[5] = 0xFF;
 375              		.loc 1 146 2 is_stmt 1 view .LVU128
 376              		.loc 1 146 10 is_stmt 0 view .LVU129
 377 001c 8DF80530 		strb	r3, [sp, #5]
 147:Module/motor/dm_drv.c **** 	data[6] = 0xFF;
 378              		.loc 1 147 2 is_stmt 1 view .LVU130
 379              		.loc 1 147 10 is_stmt 0 view .LVU131
 380 0020 8DF80630 		strb	r3, [sp, #6]
 148:Module/motor/dm_drv.c **** 	data[7] = 0xFC;
 381              		.loc 1 148 2 is_stmt 1 view .LVU132
 382              		.loc 1 148 10 is_stmt 0 view .LVU133
 383 0024 FC23     		movs	r3, #252
 384 0026 8DF80730 		strb	r3, [sp, #7]
 149:Module/motor/dm_drv.c **** 	
 150:Module/motor/dm_drv.c **** 	canx_send_data(hcan, id, data, 8);
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 11


 385              		.loc 1 150 2 is_stmt 1 view .LVU134
 386 002a 0823     		movs	r3, #8
 387 002c 6A46     		mov	r2, sp
 388              	.LVL17:
 389              		.loc 1 150 2 is_stmt 0 view .LVU135
 390 002e 89B2     		uxth	r1, r1
 391              		.loc 1 150 2 view .LVU136
 392 0030 FFF7FEFF 		bl	canx_send_data
 393              	.LVL18:
 151:Module/motor/dm_drv.c **** }
 394              		.loc 1 151 1 view .LVU137
 395 0034 03B0     		add	sp, sp, #12
 396              	.LCFI3:
 397              		.cfi_def_cfa_offset 4
 398              		@ sp needed
 399 0036 5DF804FB 		ldr	pc, [sp], #4
 400              		.cfi_endproc
 401              	.LFE143:
 403              		.section	.text.dm4310_enable,"ax",%progbits
 404              		.align	1
 405              		.global	dm4310_enable
 406              		.syntax unified
 407              		.thumb
 408              		.thumb_func
 410              	dm4310_enable:
 411              	.LVL19:
 412              	.LFB134:
   7:Module/motor/dm_drv.c **** 	switch(motor->ctrl.mode)
 413              		.loc 1 7 1 is_stmt 1 view -0
 414              		.cfi_startproc
 415              		@ args = 0, pretend = 0, frame = 0
 416              		@ frame_needed = 0, uses_anonymous_args = 0
   7:Module/motor/dm_drv.c **** 	switch(motor->ctrl.mode)
 417              		.loc 1 7 1 is_stmt 0 view .LVU139
 418 0000 08B5     		push	{r3, lr}
 419              	.LCFI4:
 420              		.cfi_def_cfa_offset 8
 421              		.cfi_offset 3, -8
 422              		.cfi_offset 14, -4
   8:Module/motor/dm_drv.c **** 	{
 423              		.loc 1 8 2 is_stmt 1 view .LVU140
   8:Module/motor/dm_drv.c **** 	{
 424              		.loc 1 8 20 is_stmt 0 view .LVU141
 425 0002 91F93C30 		ldrsb	r3, [r1, #60]
   8:Module/motor/dm_drv.c **** 	{
 426              		.loc 1 8 2 view .LVU142
 427 0006 012B     		cmp	r3, #1
 428 0008 09D0     		beq	.L10
 429 000a 022B     		cmp	r3, #2
 430 000c 0FD0     		beq	.L11
 431 000e 2BB9     		cbnz	r3, .L9
  11:Module/motor/dm_drv.c **** 			break;
 432              		.loc 1 11 4 is_stmt 1 view .LVU143
  11:Module/motor/dm_drv.c **** 			break;
 433              		.loc 1 11 33 is_stmt 0 view .LVU144
 434 0010 91F90010 		ldrsb	r1, [r1]
 435              	.LVL20:
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 12


  11:Module/motor/dm_drv.c **** 			break;
 436              		.loc 1 11 4 view .LVU145
 437 0014 0022     		movs	r2, #0
 438 0016 89B2     		uxth	r1, r1
 439 0018 FFF7FEFF 		bl	enable_motor_mode
 440              	.LVL21:
  12:Module/motor/dm_drv.c **** 		case 1:
 441              		.loc 1 12 4 is_stmt 1 view .LVU146
 442              	.L9:
  20:Module/motor/dm_drv.c **** 
 443              		.loc 1 20 1 is_stmt 0 view .LVU147
 444 001c 08BD     		pop	{r3, pc}
 445              	.LVL22:
 446              	.L10:
  14:Module/motor/dm_drv.c **** 			break;
 447              		.loc 1 14 4 is_stmt 1 view .LVU148
  14:Module/motor/dm_drv.c **** 			break;
 448              		.loc 1 14 33 is_stmt 0 view .LVU149
 449 001e 91F90010 		ldrsb	r1, [r1]
 450              	.LVL23:
  14:Module/motor/dm_drv.c **** 			break;
 451              		.loc 1 14 4 view .LVU150
 452 0022 4FF48072 		mov	r2, #256
 453 0026 89B2     		uxth	r1, r1
 454 0028 FFF7FEFF 		bl	enable_motor_mode
 455              	.LVL24:
  15:Module/motor/dm_drv.c **** 		case 2:
 456              		.loc 1 15 4 is_stmt 1 view .LVU151
 457 002c F6E7     		b	.L9
 458              	.LVL25:
 459              	.L11:
  17:Module/motor/dm_drv.c **** 			break;
 460              		.loc 1 17 4 view .LVU152
  17:Module/motor/dm_drv.c **** 			break;
 461              		.loc 1 17 33 is_stmt 0 view .LVU153
 462 002e 91F90010 		ldrsb	r1, [r1]
 463              	.LVL26:
  17:Module/motor/dm_drv.c **** 			break;
 464              		.loc 1 17 4 view .LVU154
 465 0032 4FF40072 		mov	r2, #512
 466 0036 89B2     		uxth	r1, r1
 467 0038 FFF7FEFF 		bl	enable_motor_mode
 468              	.LVL27:
  18:Module/motor/dm_drv.c **** 	}	
 469              		.loc 1 18 4 is_stmt 1 view .LVU155
  20:Module/motor/dm_drv.c **** 
 470              		.loc 1 20 1 is_stmt 0 view .LVU156
 471 003c EEE7     		b	.L9
 472              		.cfi_endproc
 473              	.LFE134:
 475              		.section	.text.disable_motor_mode,"ax",%progbits
 476              		.align	1
 477              		.global	disable_motor_mode
 478              		.syntax unified
 479              		.thumb
 480              		.thumb_func
 482              	disable_motor_mode:
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 13


 483              	.LVL28:
 484              	.LFB144:
 152:Module/motor/dm_drv.c **** 
 153:Module/motor/dm_drv.c **** 
 154:Module/motor/dm_drv.c **** void disable_motor_mode(hcan_t* hcan, uint16_t motor_id, uint16_t mode_id)
 155:Module/motor/dm_drv.c **** {
 485              		.loc 1 155 1 is_stmt 1 view -0
 486              		.cfi_startproc
 487              		@ args = 0, pretend = 0, frame = 8
 488              		@ frame_needed = 0, uses_anonymous_args = 0
 489              		.loc 1 155 1 is_stmt 0 view .LVU158
 490 0000 00B5     		push	{lr}
 491              	.LCFI5:
 492              		.cfi_def_cfa_offset 4
 493              		.cfi_offset 14, -4
 494 0002 83B0     		sub	sp, sp, #12
 495              	.LCFI6:
 496              		.cfi_def_cfa_offset 16
 156:Module/motor/dm_drv.c **** 	uint8_t data[8];
 497              		.loc 1 156 2 is_stmt 1 view .LVU159
 157:Module/motor/dm_drv.c **** 	uint16_t id = motor_id + mode_id;
 498              		.loc 1 157 2 view .LVU160
 499              		.loc 1 157 11 is_stmt 0 view .LVU161
 500 0004 1144     		add	r1, r1, r2
 501              	.LVL29:
 158:Module/motor/dm_drv.c **** 	
 159:Module/motor/dm_drv.c **** 	data[0] = 0xFF;
 502              		.loc 1 159 2 is_stmt 1 view .LVU162
 503              		.loc 1 159 10 is_stmt 0 view .LVU163
 504 0006 FF23     		movs	r3, #255
 505 0008 8DF80030 		strb	r3, [sp]
 160:Module/motor/dm_drv.c **** 	data[1] = 0xFF;
 506              		.loc 1 160 2 is_stmt 1 view .LVU164
 507              		.loc 1 160 10 is_stmt 0 view .LVU165
 508 000c 8DF80130 		strb	r3, [sp, #1]
 161:Module/motor/dm_drv.c **** 	data[2] = 0xFF;
 509              		.loc 1 161 2 is_stmt 1 view .LVU166
 510              		.loc 1 161 10 is_stmt 0 view .LVU167
 511 0010 8DF80230 		strb	r3, [sp, #2]
 162:Module/motor/dm_drv.c **** 	data[3] = 0xFF;
 512              		.loc 1 162 2 is_stmt 1 view .LVU168
 513              		.loc 1 162 10 is_stmt 0 view .LVU169
 514 0014 8DF80330 		strb	r3, [sp, #3]
 163:Module/motor/dm_drv.c **** 	data[4] = 0xFF;
 515              		.loc 1 163 2 is_stmt 1 view .LVU170
 516              		.loc 1 163 10 is_stmt 0 view .LVU171
 517 0018 8DF80430 		strb	r3, [sp, #4]
 164:Module/motor/dm_drv.c **** 	data[5] = 0xFF;
 518              		.loc 1 164 2 is_stmt 1 view .LVU172
 519              		.loc 1 164 10 is_stmt 0 view .LVU173
 520 001c 8DF80530 		strb	r3, [sp, #5]
 165:Module/motor/dm_drv.c **** 	data[6] = 0xFF;
 521              		.loc 1 165 2 is_stmt 1 view .LVU174
 522              		.loc 1 165 10 is_stmt 0 view .LVU175
 523 0020 8DF80630 		strb	r3, [sp, #6]
 166:Module/motor/dm_drv.c **** 	data[7] = 0xFD;
 524              		.loc 1 166 2 is_stmt 1 view .LVU176
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 14


 525              		.loc 1 166 10 is_stmt 0 view .LVU177
 526 0024 FD23     		movs	r3, #253
 527 0026 8DF80730 		strb	r3, [sp, #7]
 167:Module/motor/dm_drv.c **** 	
 168:Module/motor/dm_drv.c **** 	canx_send_data(hcan, id, data, 8);
 528              		.loc 1 168 2 is_stmt 1 view .LVU178
 529 002a 0823     		movs	r3, #8
 530 002c 6A46     		mov	r2, sp
 531              	.LVL30:
 532              		.loc 1 168 2 is_stmt 0 view .LVU179
 533 002e 89B2     		uxth	r1, r1
 534              		.loc 1 168 2 view .LVU180
 535 0030 FFF7FEFF 		bl	canx_send_data
 536              	.LVL31:
 169:Module/motor/dm_drv.c **** }
 537              		.loc 1 169 1 view .LVU181
 538 0034 03B0     		add	sp, sp, #12
 539              	.LCFI7:
 540              		.cfi_def_cfa_offset 4
 541              		@ sp needed
 542 0036 5DF804FB 		ldr	pc, [sp], #4
 543              		.cfi_endproc
 544              	.LFE144:
 546              		.section	.text.dm4310_disable,"ax",%progbits
 547              		.align	1
 548              		.global	dm4310_disable
 549              		.syntax unified
 550              		.thumb
 551              		.thumb_func
 553              	dm4310_disable:
 554              	.LVL32:
 555              	.LFB135:
  24:Module/motor/dm_drv.c **** 	switch(motor->ctrl.mode)
 556              		.loc 1 24 1 is_stmt 1 view -0
 557              		.cfi_startproc
 558              		@ args = 0, pretend = 0, frame = 0
 559              		@ frame_needed = 0, uses_anonymous_args = 0
  24:Module/motor/dm_drv.c **** 	switch(motor->ctrl.mode)
 560              		.loc 1 24 1 is_stmt 0 view .LVU183
 561 0000 10B5     		push	{r4, lr}
 562              	.LCFI8:
 563              		.cfi_def_cfa_offset 8
 564              		.cfi_offset 4, -8
 565              		.cfi_offset 14, -4
 566 0002 0C46     		mov	r4, r1
  25:Module/motor/dm_drv.c **** 	{
 567              		.loc 1 25 2 is_stmt 1 view .LVU184
  25:Module/motor/dm_drv.c **** 	{
 568              		.loc 1 25 20 is_stmt 0 view .LVU185
 569 0004 91F93C30 		ldrsb	r3, [r1, #60]
  25:Module/motor/dm_drv.c **** 	{
 570              		.loc 1 25 2 view .LVU186
 571 0008 012B     		cmp	r3, #1
 572 000a 0CD0     		beq	.L17
 573 000c 022B     		cmp	r3, #2
 574 000e 12D0     		beq	.L18
 575 0010 2BB9     		cbnz	r3, .L19
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 15


  28:Module/motor/dm_drv.c **** 			break;
 576              		.loc 1 28 4 is_stmt 1 view .LVU187
  28:Module/motor/dm_drv.c **** 			break;
 577              		.loc 1 28 34 is_stmt 0 view .LVU188
 578 0012 91F90010 		ldrsb	r1, [r1]
 579              	.LVL33:
  28:Module/motor/dm_drv.c **** 			break;
 580              		.loc 1 28 4 view .LVU189
 581 0016 0022     		movs	r2, #0
 582 0018 89B2     		uxth	r1, r1
 583 001a FFF7FEFF 		bl	disable_motor_mode
 584              	.LVL34:
  29:Module/motor/dm_drv.c **** 		case 1:
 585              		.loc 1 29 4 is_stmt 1 view .LVU190
 586              	.L19:
  37:Module/motor/dm_drv.c **** }
 587              		.loc 1 37 2 view .LVU191
 588 001e 2046     		mov	r0, r4
 589 0020 FFF7FEFF 		bl	dm4310_clear_para
 590              	.LVL35:
  38:Module/motor/dm_drv.c **** 
 591              		.loc 1 38 1 is_stmt 0 view .LVU192
 592 0024 10BD     		pop	{r4, pc}
 593              	.LVL36:
 594              	.L17:
  31:Module/motor/dm_drv.c **** 			break;
 595              		.loc 1 31 4 is_stmt 1 view .LVU193
  31:Module/motor/dm_drv.c **** 			break;
 596              		.loc 1 31 34 is_stmt 0 view .LVU194
 597 0026 91F90010 		ldrsb	r1, [r1]
 598              	.LVL37:
  31:Module/motor/dm_drv.c **** 			break;
 599              		.loc 1 31 4 view .LVU195
 600 002a 4FF48072 		mov	r2, #256
 601 002e 89B2     		uxth	r1, r1
 602 0030 FFF7FEFF 		bl	disable_motor_mode
 603              	.LVL38:
  32:Module/motor/dm_drv.c **** 		case 2:
 604              		.loc 1 32 4 is_stmt 1 view .LVU196
 605 0034 F3E7     		b	.L19
 606              	.LVL39:
 607              	.L18:
  34:Module/motor/dm_drv.c **** 			break;
 608              		.loc 1 34 4 view .LVU197
  34:Module/motor/dm_drv.c **** 			break;
 609              		.loc 1 34 34 is_stmt 0 view .LVU198
 610 0036 91F90010 		ldrsb	r1, [r1]
 611              	.LVL40:
  34:Module/motor/dm_drv.c **** 			break;
 612              		.loc 1 34 4 view .LVU199
 613 003a 4FF40072 		mov	r2, #512
 614 003e 89B2     		uxth	r1, r1
 615 0040 FFF7FEFF 		bl	disable_motor_mode
 616              	.LVL41:
  35:Module/motor/dm_drv.c **** 	}	
 617              		.loc 1 35 4 is_stmt 1 view .LVU200
 618 0044 EBE7     		b	.L19
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 16


 619              		.cfi_endproc
 620              	.LFE135:
 622              		.section	.text.save_pos_zero,"ax",%progbits
 623              		.align	1
 624              		.global	save_pos_zero
 625              		.syntax unified
 626              		.thumb
 627              		.thumb_func
 629              	save_pos_zero:
 630              	.LVL42:
 631              	.LFB145:
 170:Module/motor/dm_drv.c **** 
 171:Module/motor/dm_drv.c **** 
 172:Module/motor/dm_drv.c **** void save_pos_zero(hcan_t* hcan, uint16_t motor_id, uint16_t mode_id)
 173:Module/motor/dm_drv.c **** {
 632              		.loc 1 173 1 view -0
 633              		.cfi_startproc
 634              		@ args = 0, pretend = 0, frame = 8
 635              		@ frame_needed = 0, uses_anonymous_args = 0
 636              		.loc 1 173 1 is_stmt 0 view .LVU202
 637 0000 00B5     		push	{lr}
 638              	.LCFI9:
 639              		.cfi_def_cfa_offset 4
 640              		.cfi_offset 14, -4
 641 0002 83B0     		sub	sp, sp, #12
 642              	.LCFI10:
 643              		.cfi_def_cfa_offset 16
 174:Module/motor/dm_drv.c **** 	uint8_t data[8];
 644              		.loc 1 174 2 is_stmt 1 view .LVU203
 175:Module/motor/dm_drv.c **** 	uint16_t id = motor_id + mode_id;
 645              		.loc 1 175 2 view .LVU204
 646              		.loc 1 175 11 is_stmt 0 view .LVU205
 647 0004 1144     		add	r1, r1, r2
 648              	.LVL43:
 176:Module/motor/dm_drv.c **** 	
 177:Module/motor/dm_drv.c **** 	data[0] = 0xFF;
 649              		.loc 1 177 2 is_stmt 1 view .LVU206
 650              		.loc 1 177 10 is_stmt 0 view .LVU207
 651 0006 FF23     		movs	r3, #255
 652 0008 8DF80030 		strb	r3, [sp]
 178:Module/motor/dm_drv.c **** 	data[1] = 0xFF;
 653              		.loc 1 178 2 is_stmt 1 view .LVU208
 654              		.loc 1 178 10 is_stmt 0 view .LVU209
 655 000c 8DF80130 		strb	r3, [sp, #1]
 179:Module/motor/dm_drv.c **** 	data[2] = 0xFF;
 656              		.loc 1 179 2 is_stmt 1 view .LVU210
 657              		.loc 1 179 10 is_stmt 0 view .LVU211
 658 0010 8DF80230 		strb	r3, [sp, #2]
 180:Module/motor/dm_drv.c **** 	data[3] = 0xFF;
 659              		.loc 1 180 2 is_stmt 1 view .LVU212
 660              		.loc 1 180 10 is_stmt 0 view .LVU213
 661 0014 8DF80330 		strb	r3, [sp, #3]
 181:Module/motor/dm_drv.c **** 	data[4] = 0xFF;
 662              		.loc 1 181 2 is_stmt 1 view .LVU214
 663              		.loc 1 181 10 is_stmt 0 view .LVU215
 664 0018 8DF80430 		strb	r3, [sp, #4]
 182:Module/motor/dm_drv.c **** 	data[5] = 0xFF;
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 17


 665              		.loc 1 182 2 is_stmt 1 view .LVU216
 666              		.loc 1 182 10 is_stmt 0 view .LVU217
 667 001c 8DF80530 		strb	r3, [sp, #5]
 183:Module/motor/dm_drv.c **** 	data[6] = 0xFF;
 668              		.loc 1 183 2 is_stmt 1 view .LVU218
 669              		.loc 1 183 10 is_stmt 0 view .LVU219
 670 0020 8DF80630 		strb	r3, [sp, #6]
 184:Module/motor/dm_drv.c **** 	data[7] = 0xFE;
 671              		.loc 1 184 2 is_stmt 1 view .LVU220
 672              		.loc 1 184 10 is_stmt 0 view .LVU221
 673 0024 FE23     		movs	r3, #254
 674 0026 8DF80730 		strb	r3, [sp, #7]
 185:Module/motor/dm_drv.c **** 	
 186:Module/motor/dm_drv.c **** 	canx_send_data(hcan, id, data, 8);
 675              		.loc 1 186 2 is_stmt 1 view .LVU222
 676 002a 0823     		movs	r3, #8
 677 002c 6A46     		mov	r2, sp
 678              	.LVL44:
 679              		.loc 1 186 2 is_stmt 0 view .LVU223
 680 002e 89B2     		uxth	r1, r1
 681              		.loc 1 186 2 view .LVU224
 682 0030 FFF7FEFF 		bl	canx_send_data
 683              	.LVL45:
 187:Module/motor/dm_drv.c **** }
 684              		.loc 1 187 1 view .LVU225
 685 0034 03B0     		add	sp, sp, #12
 686              	.LCFI11:
 687              		.cfi_def_cfa_offset 4
 688              		@ sp needed
 689 0036 5DF804FB 		ldr	pc, [sp], #4
 690              		.cfi_endproc
 691              	.LFE145:
 693              		.section	.text.clear_err,"ax",%progbits
 694              		.align	1
 695              		.global	clear_err
 696              		.syntax unified
 697              		.thumb
 698              		.thumb_func
 700              	clear_err:
 701              	.LVL46:
 702              	.LFB146:
 188:Module/motor/dm_drv.c **** 
 189:Module/motor/dm_drv.c **** 
 190:Module/motor/dm_drv.c **** void clear_err(hcan_t* hcan, uint16_t motor_id, uint16_t mode_id)
 191:Module/motor/dm_drv.c **** {
 703              		.loc 1 191 1 is_stmt 1 view -0
 704              		.cfi_startproc
 705              		@ args = 0, pretend = 0, frame = 8
 706              		@ frame_needed = 0, uses_anonymous_args = 0
 707              		.loc 1 191 1 is_stmt 0 view .LVU227
 708 0000 00B5     		push	{lr}
 709              	.LCFI12:
 710              		.cfi_def_cfa_offset 4
 711              		.cfi_offset 14, -4
 712 0002 83B0     		sub	sp, sp, #12
 713              	.LCFI13:
 714              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 18


 192:Module/motor/dm_drv.c **** 	uint8_t data[8];
 715              		.loc 1 192 2 is_stmt 1 view .LVU228
 193:Module/motor/dm_drv.c **** 	uint16_t id = motor_id + mode_id;
 716              		.loc 1 193 2 view .LVU229
 717              		.loc 1 193 11 is_stmt 0 view .LVU230
 718 0004 1144     		add	r1, r1, r2
 719              	.LVL47:
 194:Module/motor/dm_drv.c **** 	
 195:Module/motor/dm_drv.c **** 	data[0] = 0xFF;
 720              		.loc 1 195 2 is_stmt 1 view .LVU231
 721              		.loc 1 195 10 is_stmt 0 view .LVU232
 722 0006 FF23     		movs	r3, #255
 723 0008 8DF80030 		strb	r3, [sp]
 196:Module/motor/dm_drv.c **** 	data[1] = 0xFF;
 724              		.loc 1 196 2 is_stmt 1 view .LVU233
 725              		.loc 1 196 10 is_stmt 0 view .LVU234
 726 000c 8DF80130 		strb	r3, [sp, #1]
 197:Module/motor/dm_drv.c **** 	data[2] = 0xFF;
 727              		.loc 1 197 2 is_stmt 1 view .LVU235
 728              		.loc 1 197 10 is_stmt 0 view .LVU236
 729 0010 8DF80230 		strb	r3, [sp, #2]
 198:Module/motor/dm_drv.c **** 	data[3] = 0xFF;
 730              		.loc 1 198 2 is_stmt 1 view .LVU237
 731              		.loc 1 198 10 is_stmt 0 view .LVU238
 732 0014 8DF80330 		strb	r3, [sp, #3]
 199:Module/motor/dm_drv.c **** 	data[4] = 0xFF;
 733              		.loc 1 199 2 is_stmt 1 view .LVU239
 734              		.loc 1 199 10 is_stmt 0 view .LVU240
 735 0018 8DF80430 		strb	r3, [sp, #4]
 200:Module/motor/dm_drv.c **** 	data[5] = 0xFF;
 736              		.loc 1 200 2 is_stmt 1 view .LVU241
 737              		.loc 1 200 10 is_stmt 0 view .LVU242
 738 001c 8DF80530 		strb	r3, [sp, #5]
 201:Module/motor/dm_drv.c **** 	data[6] = 0xFF;
 739              		.loc 1 201 2 is_stmt 1 view .LVU243
 740              		.loc 1 201 10 is_stmt 0 view .LVU244
 741 0020 8DF80630 		strb	r3, [sp, #6]
 202:Module/motor/dm_drv.c **** 	data[7] = 0xFB;
 742              		.loc 1 202 2 is_stmt 1 view .LVU245
 743              		.loc 1 202 10 is_stmt 0 view .LVU246
 744 0024 FB23     		movs	r3, #251
 745 0026 8DF80730 		strb	r3, [sp, #7]
 203:Module/motor/dm_drv.c **** 	
 204:Module/motor/dm_drv.c **** 	canx_send_data(hcan, id, data, 8);
 746              		.loc 1 204 2 is_stmt 1 view .LVU247
 747 002a 0823     		movs	r3, #8
 748 002c 6A46     		mov	r2, sp
 749              	.LVL48:
 750              		.loc 1 204 2 is_stmt 0 view .LVU248
 751 002e 89B2     		uxth	r1, r1
 752              		.loc 1 204 2 view .LVU249
 753 0030 FFF7FEFF 		bl	canx_send_data
 754              	.LVL49:
 205:Module/motor/dm_drv.c **** }
 755              		.loc 1 205 1 view .LVU250
 756 0034 03B0     		add	sp, sp, #12
 757              	.LCFI14:
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 19


 758              		.cfi_def_cfa_offset 4
 759              		@ sp needed
 760 0036 5DF804FB 		ldr	pc, [sp], #4
 761              		.cfi_endproc
 762              	.LFE146:
 764              		.section	.text.dm4310_clear_err,"ax",%progbits
 765              		.align	1
 766              		.global	dm4310_clear_err
 767              		.syntax unified
 768              		.thumb
 769              		.thumb_func
 771              	dm4310_clear_err:
 772              	.LVL50:
 773              	.LFB139:
  86:Module/motor/dm_drv.c **** 	switch(motor->ctrl.mode)
 774              		.loc 1 86 1 is_stmt 1 view -0
 775              		.cfi_startproc
 776              		@ args = 0, pretend = 0, frame = 0
 777              		@ frame_needed = 0, uses_anonymous_args = 0
  86:Module/motor/dm_drv.c **** 	switch(motor->ctrl.mode)
 778              		.loc 1 86 1 is_stmt 0 view .LVU252
 779 0000 08B5     		push	{r3, lr}
 780              	.LCFI15:
 781              		.cfi_def_cfa_offset 8
 782              		.cfi_offset 3, -8
 783              		.cfi_offset 14, -4
  87:Module/motor/dm_drv.c **** 	{
 784              		.loc 1 87 2 is_stmt 1 view .LVU253
  87:Module/motor/dm_drv.c **** 	{
 785              		.loc 1 87 20 is_stmt 0 view .LVU254
 786 0002 91F93C30 		ldrsb	r3, [r1, #60]
  87:Module/motor/dm_drv.c **** 	{
 787              		.loc 1 87 2 view .LVU255
 788 0006 012B     		cmp	r3, #1
 789 0008 09D0     		beq	.L26
 790 000a 022B     		cmp	r3, #2
 791 000c 0FD0     		beq	.L27
 792 000e 2BB9     		cbnz	r3, .L25
  90:Module/motor/dm_drv.c **** 			break;
 793              		.loc 1 90 4 is_stmt 1 view .LVU256
  90:Module/motor/dm_drv.c **** 			break;
 794              		.loc 1 90 25 is_stmt 0 view .LVU257
 795 0010 91F90010 		ldrsb	r1, [r1]
 796              	.LVL51:
  90:Module/motor/dm_drv.c **** 			break;
 797              		.loc 1 90 4 view .LVU258
 798 0014 0022     		movs	r2, #0
 799 0016 89B2     		uxth	r1, r1
 800 0018 FFF7FEFF 		bl	clear_err
 801              	.LVL52:
  91:Module/motor/dm_drv.c **** 		case 1:
 802              		.loc 1 91 4 is_stmt 1 view .LVU259
 803              	.L25:
  99:Module/motor/dm_drv.c **** 
 804              		.loc 1 99 1 is_stmt 0 view .LVU260
 805 001c 08BD     		pop	{r3, pc}
 806              	.LVL53:
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 20


 807              	.L26:
  93:Module/motor/dm_drv.c **** 			break;
 808              		.loc 1 93 4 is_stmt 1 view .LVU261
  93:Module/motor/dm_drv.c **** 			break;
 809              		.loc 1 93 25 is_stmt 0 view .LVU262
 810 001e 91F90010 		ldrsb	r1, [r1]
 811              	.LVL54:
  93:Module/motor/dm_drv.c **** 			break;
 812              		.loc 1 93 4 view .LVU263
 813 0022 4FF48072 		mov	r2, #256
 814 0026 89B2     		uxth	r1, r1
 815 0028 FFF7FEFF 		bl	clear_err
 816              	.LVL55:
  94:Module/motor/dm_drv.c **** 		case 2:
 817              		.loc 1 94 4 is_stmt 1 view .LVU264
 818 002c F6E7     		b	.L25
 819              	.LVL56:
 820              	.L27:
  96:Module/motor/dm_drv.c **** 			break;
 821              		.loc 1 96 4 view .LVU265
  96:Module/motor/dm_drv.c **** 			break;
 822              		.loc 1 96 25 is_stmt 0 view .LVU266
 823 002e 91F90010 		ldrsb	r1, [r1]
 824              	.LVL57:
  96:Module/motor/dm_drv.c **** 			break;
 825              		.loc 1 96 4 view .LVU267
 826 0032 4FF40072 		mov	r2, #512
 827 0036 89B2     		uxth	r1, r1
 828 0038 FFF7FEFF 		bl	clear_err
 829              	.LVL58:
  97:Module/motor/dm_drv.c **** 	}	
 830              		.loc 1 97 4 is_stmt 1 view .LVU268
  99:Module/motor/dm_drv.c **** 
 831              		.loc 1 99 1 is_stmt 0 view .LVU269
 832 003c EEE7     		b	.L25
 833              		.cfi_endproc
 834              	.LFE139:
 836              		.section	.text.mit_ctrl,"ax",%progbits
 837              		.align	1
 838              		.global	mit_ctrl
 839              		.syntax unified
 840              		.thumb
 841              		.thumb_func
 843              	mit_ctrl:
 844              	.LVL59:
 845              	.LFB147:
 206:Module/motor/dm_drv.c **** 
 207:Module/motor/dm_drv.c **** 
 208:Module/motor/dm_drv.c **** void mit_ctrl(hcan_t* hcan, uint16_t motor_id, float pos, float vel,float kp, float kd, float torq)
 209:Module/motor/dm_drv.c **** {
 846              		.loc 1 209 1 is_stmt 1 view -0
 847              		.cfi_startproc
 848              		@ args = 0, pretend = 0, frame = 16
 849              		@ frame_needed = 0, uses_anonymous_args = 0
 850              		.loc 1 209 1 is_stmt 0 view .LVU271
 851 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 852              	.LCFI16:
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 21


 853              		.cfi_def_cfa_offset 36
 854              		.cfi_offset 4, -36
 855              		.cfi_offset 5, -32
 856              		.cfi_offset 6, -28
 857              		.cfi_offset 7, -24
 858              		.cfi_offset 8, -20
 859              		.cfi_offset 9, -16
 860              		.cfi_offset 10, -12
 861              		.cfi_offset 11, -8
 862              		.cfi_offset 14, -4
 863 0004 2DED048B 		vpush.64	{d8, d9}
 864              	.LCFI17:
 865              		.cfi_def_cfa_offset 52
 866              		.cfi_offset 80, -52
 867              		.cfi_offset 81, -48
 868              		.cfi_offset 82, -44
 869              		.cfi_offset 83, -40
 870 0008 85B0     		sub	sp, sp, #20
 871              	.LCFI18:
 872              		.cfi_def_cfa_offset 72
 873 000a 0090     		str	r0, [sp]
 874 000c 0191     		str	r1, [sp, #4]
 875 000e F0EE609A 		vmov.f32	s19, s1
 876 0012 B0EE419A 		vmov.f32	s18, s2
 877 0016 F0EE618A 		vmov.f32	s17, s3
 878 001a B0EE428A 		vmov.f32	s16, s4
 210:Module/motor/dm_drv.c **** 	uint8_t data[8];
 879              		.loc 1 210 2 is_stmt 1 view .LVU272
 211:Module/motor/dm_drv.c **** 	uint16_t pos_tmp,vel_tmp,kp_tmp,kd_tmp,tor_tmp;
 880              		.loc 1 211 2 view .LVU273
 212:Module/motor/dm_drv.c **** 	uint16_t id = motor_id + MIT_MODE;
 881              		.loc 1 212 2 view .LVU274
 882              	.LVL60:
 213:Module/motor/dm_drv.c **** 
 214:Module/motor/dm_drv.c **** 	pos_tmp = float_to_uint(pos,  P_MIN,  P_MAX,  16);
 883              		.loc 1 214 2 view .LVU275
 884              		.loc 1 214 12 is_stmt 0 view .LVU276
 885 001e 1020     		movs	r0, #16
 886              	.LVL61:
 887              		.loc 1 214 12 view .LVU277
 888 0020 B2EE091A 		vmov.f32	s2, #1.25e+1
 889              	.LVL62:
 890              		.loc 1 214 12 view .LVU278
 891 0024 FAEE090A 		vmov.f32	s1, #-1.25e+1
 892              	.LVL63:
 893              		.loc 1 214 12 view .LVU279
 894 0028 FFF7FEFF 		bl	float_to_uint
 895              	.LVL64:
 896              		.loc 1 214 12 view .LVU280
 897 002c 0746     		mov	r7, r0
 898              		.loc 1 214 10 discriminator 1 view .LVU281
 899 002e 1FFA80FB 		uxth	fp, r0
 900              	.LVL65:
 215:Module/motor/dm_drv.c **** 	vel_tmp = float_to_uint(vel,  V_MIN,  V_MAX,  12);
 901              		.loc 1 215 2 is_stmt 1 view .LVU282
 902              		.loc 1 215 12 is_stmt 0 view .LVU283
 903 0032 0C20     		movs	r0, #12
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 22


 904 0034 B3EE0E1A 		vmov.f32	s2, #3.0e+1
 905 0038 FBEE0E0A 		vmov.f32	s1, #-3.0e+1
 906 003c B0EE690A 		vmov.f32	s0, s19
 907 0040 FFF7FEFF 		bl	float_to_uint
 908              	.LVL66:
 909 0044 0646     		mov	r6, r0
 910              		.loc 1 215 10 discriminator 1 view .LVU284
 911 0046 1FFA80FA 		uxth	r10, r0
 912              	.LVL67:
 216:Module/motor/dm_drv.c **** 	kp_tmp  = float_to_uint(kp,   KP_MIN, KP_MAX, 12);
 913              		.loc 1 216 2 is_stmt 1 view .LVU285
 914              		.loc 1 216 12 is_stmt 0 view .LVU286
 915 004a DFED259A 		vldr.32	s19, .L32
 916              	.LVL68:
 917              		.loc 1 216 12 view .LVU287
 918 004e 0C20     		movs	r0, #12
 919 0050 9FED241A 		vldr.32	s2, .L32+4
 920 0054 F0EE690A 		vmov.f32	s1, s19
 921 0058 B0EE490A 		vmov.f32	s0, s18
 922 005c FFF7FEFF 		bl	float_to_uint
 923              	.LVL69:
 924 0060 0546     		mov	r5, r0
 925              		.loc 1 216 10 discriminator 1 view .LVU288
 926 0062 84B2     		uxth	r4, r0
 927              	.LVL70:
 217:Module/motor/dm_drv.c **** 	kd_tmp  = float_to_uint(kd,   KD_MIN, KD_MAX, 12);
 928              		.loc 1 217 2 is_stmt 1 view .LVU289
 929              		.loc 1 217 12 is_stmt 0 view .LVU290
 930 0064 0C20     		movs	r0, #12
 931 0066 B1EE041A 		vmov.f32	s2, #5.0e+0
 932 006a F0EE690A 		vmov.f32	s1, s19
 933 006e B0EE680A 		vmov.f32	s0, s17
 934 0072 FFF7FEFF 		bl	float_to_uint
 935              	.LVL71:
 936 0076 8046     		mov	r8, r0
 937              		.loc 1 217 10 discriminator 1 view .LVU291
 938 0078 1FFA80F9 		uxth	r9, r0
 939              	.LVL72:
 218:Module/motor/dm_drv.c **** 	tor_tmp = float_to_uint(torq, T_MIN,  T_MAX,  12);
 940              		.loc 1 218 2 is_stmt 1 view .LVU292
 941              		.loc 1 218 12 is_stmt 0 view .LVU293
 942 007c 0C20     		movs	r0, #12
 943 007e B2EE041A 		vmov.f32	s2, #1.0e+1
 944 0082 FAEE040A 		vmov.f32	s1, #-1.0e+1
 945 0086 B0EE480A 		vmov.f32	s0, s16
 946 008a FFF7FEFF 		bl	float_to_uint
 947              	.LVL73:
 219:Module/motor/dm_drv.c **** 
 220:Module/motor/dm_drv.c **** 	data[0] = (pos_tmp >> 8);
 948              		.loc 1 220 2 is_stmt 1 view .LVU294
 949              		.loc 1 220 10 is_stmt 0 view .LVU295
 950 008e 4FEA1B2B 		lsr	fp, fp, #8
 951              	.LVL74:
 952              		.loc 1 220 10 view .LVU296
 953 0092 8DF808B0 		strb	fp, [sp, #8]
 221:Module/motor/dm_drv.c **** 	data[1] = pos_tmp;
 954              		.loc 1 221 2 is_stmt 1 view .LVU297
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 23


 955              		.loc 1 221 10 is_stmt 0 view .LVU298
 956 0096 8DF80970 		strb	r7, [sp, #9]
 222:Module/motor/dm_drv.c **** 	data[2] = (vel_tmp >> 4);
 957              		.loc 1 222 2 is_stmt 1 view .LVU299
 958              		.loc 1 222 10 is_stmt 0 view .LVU300
 959 009a 4FEA1A1A 		lsr	r10, r10, #4
 960              	.LVL75:
 961              		.loc 1 222 10 view .LVU301
 962 009e 8DF80AA0 		strb	r10, [sp, #10]
 223:Module/motor/dm_drv.c **** 	data[3] = ((vel_tmp&0xF)<<4)|(kp_tmp>>8);
 963              		.loc 1 223 2 is_stmt 1 view .LVU302
 964              		.loc 1 223 30 is_stmt 0 view .LVU303
 965 00a2 240A     		lsrs	r4, r4, #8
 966              	.LVL76:
 967              		.loc 1 223 30 view .LVU304
 968 00a4 44EA0614 		orr	r4, r4, r6, lsl #4
 969              		.loc 1 223 10 view .LVU305
 970 00a8 8DF80B40 		strb	r4, [sp, #11]
 224:Module/motor/dm_drv.c **** 	data[4] = kp_tmp;
 971              		.loc 1 224 2 is_stmt 1 view .LVU306
 972              		.loc 1 224 10 is_stmt 0 view .LVU307
 973 00ac 8DF80C50 		strb	r5, [sp, #12]
 225:Module/motor/dm_drv.c **** 	data[5] = (kd_tmp >> 4);
 974              		.loc 1 225 2 is_stmt 1 view .LVU308
 975              		.loc 1 225 10 is_stmt 0 view .LVU309
 976 00b0 4FEA1919 		lsr	r9, r9, #4
 977              	.LVL77:
 978              		.loc 1 225 10 view .LVU310
 979 00b4 8DF80D90 		strb	r9, [sp, #13]
 226:Module/motor/dm_drv.c **** 	data[6] = ((kd_tmp&0xF)<<4)|(tor_tmp>>8);
 980              		.loc 1 226 2 is_stmt 1 view .LVU311
 981              		.loc 1 226 29 is_stmt 0 view .LVU312
 982 00b8 C0F30723 		ubfx	r3, r0, #8, #8
 983 00bc 43EA0813 		orr	r3, r3, r8, lsl #4
 984              		.loc 1 226 10 view .LVU313
 985 00c0 8DF80E30 		strb	r3, [sp, #14]
 227:Module/motor/dm_drv.c **** 	data[7] = tor_tmp;
 986              		.loc 1 227 2 is_stmt 1 view .LVU314
 987              		.loc 1 227 10 is_stmt 0 view .LVU315
 988 00c4 8DF80F00 		strb	r0, [sp, #15]
 228:Module/motor/dm_drv.c **** 	
 229:Module/motor/dm_drv.c **** 	canx_send_data(hcan, id, data, 8);
 989              		.loc 1 229 2 is_stmt 1 view .LVU316
 990 00c8 0823     		movs	r3, #8
 991 00ca 0DEB0302 		add	r2, sp, r3
 992 00ce 0199     		ldr	r1, [sp, #4]
 993 00d0 0098     		ldr	r0, [sp]
 994              	.LVL78:
 995              		.loc 1 229 2 is_stmt 0 view .LVU317
 996 00d2 FFF7FEFF 		bl	canx_send_data
 997              	.LVL79:
 230:Module/motor/dm_drv.c **** }
 998              		.loc 1 230 1 view .LVU318
 999 00d6 05B0     		add	sp, sp, #20
 1000              	.LCFI19:
 1001              		.cfi_def_cfa_offset 52
 1002              	.LVL80:
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 24


 1003              		.loc 1 230 1 view .LVU319
 1004              		@ sp needed
 1005 00d8 BDEC048B 		vldm	sp!, {d8-d9}
 1006              	.LCFI20:
 1007              		.cfi_restore 82
 1008              		.cfi_restore 83
 1009              		.cfi_restore 80
 1010              		.cfi_restore 81
 1011              		.cfi_def_cfa_offset 36
 1012              	.LVL81:
 1013              		.loc 1 230 1 view .LVU320
 1014 00dc BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1015              	.LVL82:
 1016              	.L33:
 1017              		.loc 1 230 1 view .LVU321
 1018              		.align	2
 1019              	.L32:
 1020 00e0 00000000 		.word	0
 1021 00e4 0000FA43 		.word	1140457472
 1022              		.cfi_endproc
 1023              	.LFE147:
 1025              		.section	.text.pos_speed_ctrl,"ax",%progbits
 1026              		.align	1
 1027              		.global	pos_speed_ctrl
 1028              		.syntax unified
 1029              		.thumb
 1030              		.thumb_func
 1032              	pos_speed_ctrl:
 1033              	.LVL83:
 1034              	.LFB148:
 231:Module/motor/dm_drv.c **** 
 232:Module/motor/dm_drv.c **** 
 233:Module/motor/dm_drv.c **** void pos_speed_ctrl(hcan_t* hcan,uint16_t motor_id, float pos, float vel)
 234:Module/motor/dm_drv.c **** {
 1035              		.loc 1 234 1 is_stmt 1 view -0
 1036              		.cfi_startproc
 1037              		@ args = 0, pretend = 0, frame = 16
 1038              		@ frame_needed = 0, uses_anonymous_args = 0
 1039              		.loc 1 234 1 is_stmt 0 view .LVU323
 1040 0000 00B5     		push	{lr}
 1041              	.LCFI21:
 1042              		.cfi_def_cfa_offset 4
 1043              		.cfi_offset 14, -4
 1044 0002 85B0     		sub	sp, sp, #20
 1045              	.LCFI22:
 1046              		.cfi_def_cfa_offset 24
 1047 0004 8DED000A 		vstr.32	s0, [sp]
 1048 0008 CDED010A 		vstr.32	s1, [sp, #4]
 235:Module/motor/dm_drv.c **** 	uint16_t id;
 1049              		.loc 1 235 2 is_stmt 1 view .LVU324
 236:Module/motor/dm_drv.c **** 	uint8_t *pbuf, *vbuf;
 1050              		.loc 1 236 2 view .LVU325
 237:Module/motor/dm_drv.c **** 	uint8_t data[8];
 1051              		.loc 1 237 2 view .LVU326
 238:Module/motor/dm_drv.c **** 	
 239:Module/motor/dm_drv.c **** 	id = motor_id + POS_MODE;
 1052              		.loc 1 239 2 view .LVU327
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 25


 1053              		.loc 1 239 5 is_stmt 0 view .LVU328
 1054 000c 01F58071 		add	r1, r1, #256
 1055              	.LVL84:
 240:Module/motor/dm_drv.c **** 	pbuf=(uint8_t*)&pos;
 1056              		.loc 1 240 2 is_stmt 1 view .LVU329
 241:Module/motor/dm_drv.c **** 	vbuf=(uint8_t*)&vel;
 1057              		.loc 1 241 2 view .LVU330
 242:Module/motor/dm_drv.c **** 	
 243:Module/motor/dm_drv.c **** 	data[0] = *pbuf;
 1058              		.loc 1 243 2 view .LVU331
 1059              		.loc 1 243 12 is_stmt 0 view .LVU332
 1060 0010 009B     		ldr	r3, [sp]
 1061              		.loc 1 243 10 view .LVU333
 1062 0012 8DF80830 		strb	r3, [sp, #8]
 244:Module/motor/dm_drv.c **** 	data[1] = *(pbuf+1);
 1063              		.loc 1 244 2 is_stmt 1 view .LVU334
 1064              		.loc 1 244 10 is_stmt 0 view .LVU335
 1065 0016 C3F30722 		ubfx	r2, r3, #8, #8
 1066 001a 8DF80920 		strb	r2, [sp, #9]
 245:Module/motor/dm_drv.c **** 	data[2] = *(pbuf+2);
 1067              		.loc 1 245 2 is_stmt 1 view .LVU336
 1068              		.loc 1 245 10 is_stmt 0 view .LVU337
 1069 001e C3F30742 		ubfx	r2, r3, #16, #8
 1070 0022 8DF80A20 		strb	r2, [sp, #10]
 246:Module/motor/dm_drv.c **** 	data[3] = *(pbuf+3);
 1071              		.loc 1 246 2 is_stmt 1 view .LVU338
 1072              		.loc 1 246 10 is_stmt 0 view .LVU339
 1073 0026 C3F30763 		ubfx	r3, r3, #24, #8
 1074 002a 8DF80B30 		strb	r3, [sp, #11]
 247:Module/motor/dm_drv.c **** 
 248:Module/motor/dm_drv.c **** 	data[4] = *vbuf;
 1075              		.loc 1 248 2 is_stmt 1 view .LVU340
 1076              		.loc 1 248 12 is_stmt 0 view .LVU341
 1077 002e 019B     		ldr	r3, [sp, #4]
 1078              		.loc 1 248 10 view .LVU342
 1079 0030 8DF80C30 		strb	r3, [sp, #12]
 249:Module/motor/dm_drv.c **** 	data[5] = *(vbuf+1);
 1080              		.loc 1 249 2 is_stmt 1 view .LVU343
 1081              		.loc 1 249 10 is_stmt 0 view .LVU344
 1082 0034 C3F30722 		ubfx	r2, r3, #8, #8
 1083 0038 8DF80D20 		strb	r2, [sp, #13]
 250:Module/motor/dm_drv.c **** 	data[6] = *(vbuf+2);
 1084              		.loc 1 250 2 is_stmt 1 view .LVU345
 1085              		.loc 1 250 10 is_stmt 0 view .LVU346
 1086 003c C3F30742 		ubfx	r2, r3, #16, #8
 1087 0040 8DF80E20 		strb	r2, [sp, #14]
 251:Module/motor/dm_drv.c **** 	data[7] = *(vbuf+3);
 1088              		.loc 1 251 2 is_stmt 1 view .LVU347
 1089              		.loc 1 251 10 is_stmt 0 view .LVU348
 1090 0044 C3F30763 		ubfx	r3, r3, #24, #8
 1091 0048 8DF80F30 		strb	r3, [sp, #15]
 252:Module/motor/dm_drv.c **** 	
 253:Module/motor/dm_drv.c **** 	canx_send_data(hcan, id, data, 8);
 1092              		.loc 1 253 2 is_stmt 1 view .LVU349
 1093 004c 0823     		movs	r3, #8
 1094 004e 0DEB0302 		add	r2, sp, r3
 1095 0052 89B2     		uxth	r1, r1
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 26


 1096              	.LVL85:
 1097              		.loc 1 253 2 is_stmt 0 view .LVU350
 1098 0054 FFF7FEFF 		bl	canx_send_data
 1099              	.LVL86:
 254:Module/motor/dm_drv.c **** }
 1100              		.loc 1 254 1 view .LVU351
 1101 0058 05B0     		add	sp, sp, #20
 1102              	.LCFI23:
 1103              		.cfi_def_cfa_offset 4
 1104              	.LVL87:
 1105              		.loc 1 254 1 view .LVU352
 1106              		@ sp needed
 1107 005a 5DF804FB 		ldr	pc, [sp], #4
 1108              		.loc 1 254 1 view .LVU353
 1109              		.cfi_endproc
 1110              	.LFE148:
 1112              		.section	.text.speed_ctrl,"ax",%progbits
 1113              		.align	1
 1114              		.global	speed_ctrl
 1115              		.syntax unified
 1116              		.thumb
 1117              		.thumb_func
 1119              	speed_ctrl:
 1120              	.LVL88:
 1121              	.LFB149:
 255:Module/motor/dm_drv.c **** 
 256:Module/motor/dm_drv.c **** 
 257:Module/motor/dm_drv.c **** void speed_ctrl(hcan_t* hcan,uint16_t motor_id, float vel)
 258:Module/motor/dm_drv.c **** {
 1122              		.loc 1 258 1 is_stmt 1 view -0
 1123              		.cfi_startproc
 1124              		@ args = 0, pretend = 0, frame = 16
 1125              		@ frame_needed = 0, uses_anonymous_args = 0
 1126              		.loc 1 258 1 is_stmt 0 view .LVU355
 1127 0000 00B5     		push	{lr}
 1128              	.LCFI24:
 1129              		.cfi_def_cfa_offset 4
 1130              		.cfi_offset 14, -4
 1131 0002 85B0     		sub	sp, sp, #20
 1132              	.LCFI25:
 1133              		.cfi_def_cfa_offset 24
 1134 0004 8DED010A 		vstr.32	s0, [sp, #4]
 259:Module/motor/dm_drv.c **** 	uint16_t id;
 1135              		.loc 1 259 2 is_stmt 1 view .LVU356
 260:Module/motor/dm_drv.c **** 	uint8_t *vbuf;
 1136              		.loc 1 260 2 view .LVU357
 261:Module/motor/dm_drv.c **** 	uint8_t data[4];
 1137              		.loc 1 261 2 view .LVU358
 262:Module/motor/dm_drv.c **** 	
 263:Module/motor/dm_drv.c **** 	id = motor_id + SPEED_MODE;
 1138              		.loc 1 263 2 view .LVU359
 1139              		.loc 1 263 5 is_stmt 0 view .LVU360
 1140 0008 01F50071 		add	r1, r1, #512
 1141              	.LVL89:
 264:Module/motor/dm_drv.c **** 	vbuf=(uint8_t*)&vel;
 1142              		.loc 1 264 2 is_stmt 1 view .LVU361
 265:Module/motor/dm_drv.c **** 	
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 27


 266:Module/motor/dm_drv.c **** 	data[0] = *vbuf;
 1143              		.loc 1 266 2 view .LVU362
 1144              		.loc 1 266 12 is_stmt 0 view .LVU363
 1145 000c 019B     		ldr	r3, [sp, #4]
 1146              		.loc 1 266 10 view .LVU364
 1147 000e 8DF80C30 		strb	r3, [sp, #12]
 267:Module/motor/dm_drv.c **** 	data[1] = *(vbuf+1);
 1148              		.loc 1 267 2 is_stmt 1 view .LVU365
 1149              		.loc 1 267 10 is_stmt 0 view .LVU366
 1150 0012 C3F30722 		ubfx	r2, r3, #8, #8
 1151 0016 8DF80D20 		strb	r2, [sp, #13]
 268:Module/motor/dm_drv.c **** 	data[2] = *(vbuf+2);
 1152              		.loc 1 268 2 is_stmt 1 view .LVU367
 1153              		.loc 1 268 10 is_stmt 0 view .LVU368
 1154 001a C3F30742 		ubfx	r2, r3, #16, #8
 1155 001e 8DF80E20 		strb	r2, [sp, #14]
 269:Module/motor/dm_drv.c **** 	data[3] = *(vbuf+3);
 1156              		.loc 1 269 2 is_stmt 1 view .LVU369
 1157              		.loc 1 269 10 is_stmt 0 view .LVU370
 1158 0022 C3F30763 		ubfx	r3, r3, #24, #8
 1159 0026 8DF80F30 		strb	r3, [sp, #15]
 270:Module/motor/dm_drv.c **** 	
 271:Module/motor/dm_drv.c **** 	canx_send_data(hcan, id, data, 4);
 1160              		.loc 1 271 2 is_stmt 1 view .LVU371
 1161 002a 0423     		movs	r3, #4
 1162 002c 03AA     		add	r2, sp, #12
 1163 002e 89B2     		uxth	r1, r1
 1164              	.LVL90:
 1165              		.loc 1 271 2 is_stmt 0 view .LVU372
 1166 0030 FFF7FEFF 		bl	canx_send_data
 1167              	.LVL91:
 272:Module/motor/dm_drv.c **** }
 1168              		.loc 1 272 1 view .LVU373
 1169 0034 05B0     		add	sp, sp, #20
 1170              	.LCFI26:
 1171              		.cfi_def_cfa_offset 4
 1172              		@ sp needed
 1173 0036 5DF804FB 		ldr	pc, [sp], #4
 1174              		.loc 1 272 1 view .LVU374
 1175              		.cfi_endproc
 1176              	.LFE149:
 1178              		.section	.text.dm4310_ctrl_send,"ax",%progbits
 1179              		.align	1
 1180              		.global	dm4310_ctrl_send
 1181              		.syntax unified
 1182              		.thumb
 1183              		.thumb_func
 1185              	dm4310_ctrl_send:
 1186              	.LVL92:
 1187              	.LFB136:
  42:Module/motor/dm_drv.c **** 	switch(motor->ctrl.mode)
 1188              		.loc 1 42 1 is_stmt 1 view -0
 1189              		.cfi_startproc
 1190              		@ args = 0, pretend = 0, frame = 0
 1191              		@ frame_needed = 0, uses_anonymous_args = 0
  42:Module/motor/dm_drv.c **** 	switch(motor->ctrl.mode)
 1192              		.loc 1 42 1 is_stmt 0 view .LVU376
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 28


 1193 0000 08B5     		push	{r3, lr}
 1194              	.LCFI27:
 1195              		.cfi_def_cfa_offset 8
 1196              		.cfi_offset 3, -8
 1197              		.cfi_offset 14, -4
  43:Module/motor/dm_drv.c **** 	{
 1198              		.loc 1 43 2 is_stmt 1 view .LVU377
  43:Module/motor/dm_drv.c **** 	{
 1199              		.loc 1 43 20 is_stmt 0 view .LVU378
 1200 0002 91F93C30 		ldrsb	r3, [r1, #60]
  43:Module/motor/dm_drv.c **** 	{
 1201              		.loc 1 43 2 view .LVU379
 1202 0006 012B     		cmp	r3, #1
 1203 0008 12D0     		beq	.L39
 1204 000a 022B     		cmp	r3, #2
 1205 000c 1AD0     		beq	.L40
 1206 000e 73B9     		cbnz	r3, .L38
  46:Module/motor/dm_drv.c **** 			break;
 1207              		.loc 1 46 4 is_stmt 1 view .LVU380
  46:Module/motor/dm_drv.c **** 			break;
 1208              		.loc 1 46 24 is_stmt 0 view .LVU381
 1209 0010 91F90030 		ldrsb	r3, [r1]
  46:Module/motor/dm_drv.c **** 			break;
 1210              		.loc 1 46 4 view .LVU382
 1211 0014 91ED122A 		vldr.32	s4, [r1, #72]
 1212 0018 D1ED141A 		vldr.32	s3, [r1, #80]
 1213 001c 91ED131A 		vldr.32	s2, [r1, #76]
 1214 0020 D1ED110A 		vldr.32	s1, [r1, #68]
 1215 0024 91ED100A 		vldr.32	s0, [r1, #64]
 1216 0028 99B2     		uxth	r1, r3
 1217              	.LVL93:
  46:Module/motor/dm_drv.c **** 			break;
 1218              		.loc 1 46 4 view .LVU383
 1219 002a FFF7FEFF 		bl	mit_ctrl
 1220              	.LVL94:
  47:Module/motor/dm_drv.c **** 		case 1:
 1221              		.loc 1 47 4 is_stmt 1 view .LVU384
 1222              	.L38:
  55:Module/motor/dm_drv.c **** 
 1223              		.loc 1 55 1 is_stmt 0 view .LVU385
 1224 002e 08BD     		pop	{r3, pc}
 1225              	.LVL95:
 1226              	.L39:
  49:Module/motor/dm_drv.c **** 			break;
 1227              		.loc 1 49 4 is_stmt 1 view .LVU386
  49:Module/motor/dm_drv.c **** 			break;
 1228              		.loc 1 49 30 is_stmt 0 view .LVU387
 1229 0030 91F90030 		ldrsb	r3, [r1]
  49:Module/motor/dm_drv.c **** 			break;
 1230              		.loc 1 49 4 view .LVU388
 1231 0034 D1ED110A 		vldr.32	s1, [r1, #68]
 1232 0038 91ED100A 		vldr.32	s0, [r1, #64]
 1233 003c 99B2     		uxth	r1, r3
 1234              	.LVL96:
  49:Module/motor/dm_drv.c **** 			break;
 1235              		.loc 1 49 4 view .LVU389
 1236 003e FFF7FEFF 		bl	pos_speed_ctrl
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 29


 1237              	.LVL97:
  50:Module/motor/dm_drv.c **** 		case 2:
 1238              		.loc 1 50 4 is_stmt 1 view .LVU390
 1239 0042 F4E7     		b	.L38
 1240              	.LVL98:
 1241              	.L40:
  52:Module/motor/dm_drv.c **** 			break;
 1242              		.loc 1 52 4 view .LVU391
  52:Module/motor/dm_drv.c **** 			break;
 1243              		.loc 1 52 26 is_stmt 0 view .LVU392
 1244 0044 91F90030 		ldrsb	r3, [r1]
  52:Module/motor/dm_drv.c **** 			break;
 1245              		.loc 1 52 4 view .LVU393
 1246 0048 91ED110A 		vldr.32	s0, [r1, #68]
 1247 004c 99B2     		uxth	r1, r3
 1248              	.LVL99:
  52:Module/motor/dm_drv.c **** 			break;
 1249              		.loc 1 52 4 view .LVU394
 1250 004e FFF7FEFF 		bl	speed_ctrl
 1251              	.LVL100:
  53:Module/motor/dm_drv.c **** 	}	
 1252              		.loc 1 53 4 is_stmt 1 view .LVU395
  55:Module/motor/dm_drv.c **** 
 1253              		.loc 1 55 1 is_stmt 0 view .LVU396
 1254 0052 ECE7     		b	.L38
 1255              		.cfi_endproc
 1256              	.LFE136:
 1258              		.text
 1259              	.Letext0:
 1260              		.file 2 "D:/enviroment/msys2/mingw64/arm-none-eabi/include/machine/_default_types.h"
 1261              		.file 3 "D:/enviroment/msys2/mingw64/arm-none-eabi/include/sys/_stdint.h"
 1262              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f446xx.h"
 1263              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 1264              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_can.h"
 1265              		.file 7 "Bsp/bsp_can.h"
 1266              		.file 8 "Module/motor/dm_drv.h"
 1267              		.file 9 "driver/can_driver.h"
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s 			page 30


DEFINED SYMBOLS
                            *ABS*:00000000 dm_drv.c
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:21     .text.dm4310_set:00000000 $t
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:27     .text.dm4310_set:00000000 dm4310_set
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:66     .text.dm4310_clear_para:00000000 $t
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:72     .text.dm4310_clear_para:00000000 dm4310_clear_para
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:117    .text.float_to_uint:00000000 $t
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:123    .text.float_to_uint:00000000 float_to_uint
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:162    .text.uint_to_float:00000000 $t
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:168    .text.uint_to_float:00000000 uint_to_float
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:207    .text.dm4310_fbdata:00000000 $t
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:213    .text.dm4310_fbdata:00000000 dm4310_fbdata
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:333    .text.enable_motor_mode:00000000 $t
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:339    .text.enable_motor_mode:00000000 enable_motor_mode
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:404    .text.dm4310_enable:00000000 $t
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:410    .text.dm4310_enable:00000000 dm4310_enable
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:476    .text.disable_motor_mode:00000000 $t
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:482    .text.disable_motor_mode:00000000 disable_motor_mode
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:547    .text.dm4310_disable:00000000 $t
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:553    .text.dm4310_disable:00000000 dm4310_disable
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:623    .text.save_pos_zero:00000000 $t
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:629    .text.save_pos_zero:00000000 save_pos_zero
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:694    .text.clear_err:00000000 $t
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:700    .text.clear_err:00000000 clear_err
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:765    .text.dm4310_clear_err:00000000 $t
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:771    .text.dm4310_clear_err:00000000 dm4310_clear_err
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:837    .text.mit_ctrl:00000000 $t
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:843    .text.mit_ctrl:00000000 mit_ctrl
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:1020   .text.mit_ctrl:000000e0 $d
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:1026   .text.pos_speed_ctrl:00000000 $t
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:1032   .text.pos_speed_ctrl:00000000 pos_speed_ctrl
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:1113   .text.speed_ctrl:00000000 $t
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:1119   .text.speed_ctrl:00000000 speed_ctrl
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:1179   .text.dm4310_ctrl_send:00000000 $t
C:\Users\30514\AppData\Local\Temp\ccHOmWYU.s:1185   .text.dm4310_ctrl_send:00000000 dm4310_ctrl_send

UNDEFINED SYMBOLS
canx_send_data
