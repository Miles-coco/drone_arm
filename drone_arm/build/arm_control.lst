ARM GAS  C:\Users\30514\AppData\Local\Temp\ccmat23d.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"arm_control.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Module/arm_control/arm_control.c"
  20              		.section	.text.Smooth_Angle_Transition,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	Smooth_Angle_Transition:
  27              	.LFB136:
   1:Module/arm_control/arm_control.c **** #include "arm_control.h"
   2:Module/arm_control/arm_control.c **** #include "main.h"
   3:Module/arm_control/arm_control.c **** #include "math.h"
   4:Module/arm_control/arm_control.c **** 
   5:Module/arm_control/arm_control.c **** // 机械臂参数配置
   6:Module/arm_control/arm_control.c **** static const ArmConfig arm_config = {
   7:Module/arm_control/arm_control.c ****     .L1 = 0.15f,        // 主动臂1长度 (m)
   8:Module/arm_control/arm_control.c ****     .L2 = 0.15f,        // 主动臂2长度 (m)
   9:Module/arm_control/arm_control.c ****     .limits = {
  10:Module/arm_control/arm_control.c ****         .min_theta1 = 0.0f,       // 最小角度 (弧度)
  11:Module/arm_control/arm_control.c ****         .max_theta1 = M_PI,       // 最大角度 (弧度)
  12:Module/arm_control/arm_control.c ****         .min_theta2 = 0.0f,
  13:Module/arm_control/arm_control.c ****         .max_theta2 = M_PI
  14:Module/arm_control/arm_control.c ****     }
  15:Module/arm_control/arm_control.c **** };
  16:Module/arm_control/arm_control.c **** 
  17:Module/arm_control/arm_control.c **** // 工作空间配置
  18:Module/arm_control/arm_control.c **** static WorkspaceConfig workspace_config = {
  19:Module/arm_control/arm_control.c ****     .x_min = -0.3f,
  20:Module/arm_control/arm_control.c ****     .x_max = 0.3f,
  21:Module/arm_control/arm_control.c ****     .y_min = 0.1f,
  22:Module/arm_control/arm_control.c ****     .y_max = 0.5f,
  23:Module/arm_control/arm_control.c ****     .safety_margin = 0.02f
  24:Module/arm_control/arm_control.c **** };
  25:Module/arm_control/arm_control.c **** 
  26:Module/arm_control/arm_control.c **** // 当前状态
  27:Module/arm_control/arm_control.c **** static ArmState arm_state = ARM_IDLE;
  28:Module/arm_control/arm_control.c **** static point2D current_target = {0, 0.2f}; // 默认位置
  29:Module/arm_control/arm_control.c **** static JointAngles current_angles = {M_PI/4, M_PI/2}; // 当前角度
  30:Module/arm_control/arm_control.c **** static JointAngles target_angles = {M_PI/4, M_PI/2}; // 目标角度
  31:Module/arm_control/arm_control.c **** 
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccmat23d.s 			page 2


  32:Module/arm_control/arm_control.c **** // 初始化函数
  33:Module/arm_control/arm_control.c **** void ArmControl_Init(void) {
  34:Module/arm_control/arm_control.c ****     // 初始化工作空间映射
  35:Module/arm_control/arm_control.c ****     Mapping_Init(&workspace_config);
  36:Module/arm_control/arm_control.c ****     Set_Stick_Channels(0, 1); // 通道0控制X轴，通道1控制Y轴
  37:Module/arm_control/arm_control.c ****     
  38:Module/arm_control/arm_control.c ****     // 初始化电机
  39:Module/arm_control/arm_control.c ****     dm4310_motor_init();
  40:Module/arm_control/arm_control.c ****     
  41:Module/arm_control/arm_control.c ****     // 启用电机控制
  42:Module/arm_control/arm_control.c ****     ctrl_enable();
  43:Module/arm_control/arm_control.c ****     
  44:Module/arm_control/arm_control.c ****     // 设置初始状态
  45:Module/arm_control/arm_control.c ****     arm_state = ARM_IDLE;
  46:Module/arm_control/arm_control.c **** }
  47:Module/arm_control/arm_control.c **** 
  48:Module/arm_control/arm_control.c **** // 设置目标位置
  49:Module/arm_control/arm_control.c **** void Set_Target_Position(point2D target) {
  50:Module/arm_control/arm_control.c ****     current_target = target;
  51:Module/arm_control/arm_control.c ****     arm_state = ARM_MOVING;
  52:Module/arm_control/arm_control.c **** }
  53:Module/arm_control/arm_control.c **** 
  54:Module/arm_control/arm_control.c **** // 平滑角度过渡
  55:Module/arm_control/arm_control.c **** static void Smooth_Angle_Transition(void) {
  28              		.loc 1 55 43 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  56:Module/arm_control/arm_control.c ****     const float MAX_ANGLE_STEP = DEG_TO_RAD(5.0f); // 每步最大5度
  33              		.loc 1 56 5 view .LVU1
  34              	.LVL0:
  57:Module/arm_control/arm_control.c ****     
  58:Module/arm_control/arm_control.c ****     // 检查θ1步进
  59:Module/arm_control/arm_control.c ****     float delta1 = target_angles.theta1 - current_angles.theta1;
  35              		.loc 1 59 5 view .LVU2
  36              		.loc 1 59 57 is_stmt 0 view .LVU3
  37 0000 264B     		ldr	r3, .L19
  38 0002 93ED007A 		vldr.32	s14, [r3]
  39              		.loc 1 59 11 view .LVU4
  40 0006 DFED267A 		vldr.32	s15, .L19+4
  41 000a 77EEC77A 		vsub.f32	s15, s15, s14
  42              	.LVL1:
  60:Module/arm_control/arm_control.c ****     if (fabsf(delta1) > MAX_ANGLE_STEP) {
  43              		.loc 1 60 5 is_stmt 1 view .LVU5
  44              		.loc 1 60 9 is_stmt 0 view .LVU6
  45 000e F0EEE76A 		vabs.f32	s13, s15
  46              		.loc 1 60 8 view .LVU7
  47 0012 9FED246A 		vldr.32	s12, .L19+8
  48 0016 F4EEC66A 		vcmpe.f32	s13, s12
  49 001a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  50 001e 35DD     		ble	.L17
  61:Module/arm_control/arm_control.c ****         current_angles.theta1 += copysignf(MAX_ANGLE_STEP, delta1);
  51              		.loc 1 61 9 is_stmt 1 view .LVU8
  52              		.loc 1 61 34 is_stmt 0 view .LVU9
  53 0020 17EE903A 		vmov	r3, s15	@ int
  54 0024 002B     		cmp	r3, #0
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccmat23d.s 			page 3


  55 0026 01DA     		bge	.L4
  56 0028 9FED1F6A 		vldr.32	s12, .L19+12
  57              	.L4:
  58              		.loc 1 61 31 discriminator 1 view .LVU10
  59 002c 37EE067A 		vadd.f32	s14, s14, s12
  60 0030 1A4B     		ldr	r3, .L19
  61 0032 83ED007A 		vstr.32	s14, [r3]
  62              	.L5:
  62:Module/arm_control/arm_control.c ****     } else {
  63:Module/arm_control/arm_control.c ****         current_angles.theta1 = target_angles.theta1;
  64:Module/arm_control/arm_control.c ****     }
  65:Module/arm_control/arm_control.c ****     
  66:Module/arm_control/arm_control.c ****     // 检查θ2步进
  67:Module/arm_control/arm_control.c ****     float delta2 = target_angles.theta2 - current_angles.theta2;
  63              		.loc 1 67 5 is_stmt 1 view .LVU11
  64              		.loc 1 67 57 is_stmt 0 view .LVU12
  65 0036 194B     		ldr	r3, .L19
  66 0038 93ED017A 		vldr.32	s14, [r3, #4]
  67              		.loc 1 67 11 view .LVU13
  68 003c DFED1B7A 		vldr.32	s15, .L19+16
  69              	.LVL2:
  70              		.loc 1 67 11 view .LVU14
  71 0040 77EEC77A 		vsub.f32	s15, s15, s14
  72              	.LVL3:
  68:Module/arm_control/arm_control.c ****     if (fabsf(delta2) > MAX_ANGLE_STEP) {
  73              		.loc 1 68 5 is_stmt 1 view .LVU15
  74              		.loc 1 68 9 is_stmt 0 view .LVU16
  75 0044 B0EEE76A 		vabs.f32	s12, s15
  76              		.loc 1 68 8 view .LVU17
  77 0048 DFED165A 		vldr.32	s11, .L19+8
  78 004c B4EEE56A 		vcmpe.f32	s12, s11
  79 0050 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  80 0054 1EDD     		ble	.L18
  69:Module/arm_control/arm_control.c ****         current_angles.theta2 += copysignf(MAX_ANGLE_STEP, delta2);
  81              		.loc 1 69 9 is_stmt 1 view .LVU18
  82              		.loc 1 69 34 is_stmt 0 view .LVU19
  83 0056 17EE903A 		vmov	r3, s15	@ int
  84 005a 002B     		cmp	r3, #0
  85 005c 01DA     		bge	.L8
  86 005e DFED125A 		vldr.32	s11, .L19+12
  87              	.L8:
  88              		.loc 1 69 31 discriminator 1 view .LVU20
  89 0062 37EE257A 		vadd.f32	s14, s14, s11
  90 0066 0D4B     		ldr	r3, .L19
  91 0068 83ED017A 		vstr.32	s14, [r3, #4]
  92              	.L9:
  70:Module/arm_control/arm_control.c ****     } else {
  71:Module/arm_control/arm_control.c ****         current_angles.theta2 = target_angles.theta2;
  72:Module/arm_control/arm_control.c ****     }
  73:Module/arm_control/arm_control.c ****     
  74:Module/arm_control/arm_control.c ****     // 检查是否到达目标
  75:Module/arm_control/arm_control.c ****     if (fabsf(delta1) < 0.001f && fabsf(delta2) < 0.001f) {
  93              		.loc 1 75 5 is_stmt 1 view .LVU21
  94              		.loc 1 75 8 is_stmt 0 view .LVU22
  95 006c DFED107A 		vldr.32	s15, .L19+20
  96              	.LVL4:
  97              		.loc 1 75 8 view .LVU23
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccmat23d.s 			page 4


  98 0070 F4EEE76A 		vcmpe.f32	s13, s15
  99 0074 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 100 0078 07D5     		bpl	.L1
 101              		.loc 1 75 32 discriminator 1 view .LVU24
 102 007a B4EEE76A 		vcmpe.f32	s12, s15
 103 007e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 104 0082 02D5     		bpl	.L1
  76:Module/arm_control/arm_control.c ****         arm_state = ARM_IDLE;
 105              		.loc 1 76 9 is_stmt 1 view .LVU25
 106              		.loc 1 76 19 is_stmt 0 view .LVU26
 107 0084 0B4B     		ldr	r3, .L19+24
 108 0086 0022     		movs	r2, #0
 109 0088 1A70     		strb	r2, [r3]
 110              	.L1:
  77:Module/arm_control/arm_control.c ****     }
  78:Module/arm_control/arm_control.c **** }
 111              		.loc 1 78 1 view .LVU27
 112 008a 7047     		bx	lr
 113              	.LVL5:
 114              	.L17:
  63:Module/arm_control/arm_control.c ****     }
 115              		.loc 1 63 9 is_stmt 1 view .LVU28
  63:Module/arm_control/arm_control.c ****     }
 116              		.loc 1 63 31 is_stmt 0 view .LVU29
 117 008c 034B     		ldr	r3, .L19
 118 008e 0A4A     		ldr	r2, .L19+28
 119 0090 1A60     		str	r2, [r3]	@ float
 120 0092 D0E7     		b	.L5
 121              	.LVL6:
 122              	.L18:
  71:Module/arm_control/arm_control.c ****     }
 123              		.loc 1 71 9 is_stmt 1 view .LVU30
  71:Module/arm_control/arm_control.c ****     }
 124              		.loc 1 71 31 is_stmt 0 view .LVU31
 125 0094 014B     		ldr	r3, .L19
 126 0096 094A     		ldr	r2, .L19+32
 127 0098 5A60     		str	r2, [r3, #4]	@ float
 128 009a E7E7     		b	.L9
 129              	.L20:
 130              		.align	2
 131              	.L19:
 132 009c 00000000 		.word	current_angles
 133 00a0 DB0F493F 		.word	1061752795
 134 00a4 C2B8B23D 		.word	1035122882
 135 00a8 C2B8B2BD 		.word	-1112360766
 136 00ac DB0FC93F 		.word	1070141403
 137 00b0 6F12833A 		.word	981668463
 138 00b4 00000000 		.word	arm_state
 139 00b8 DB0F493F 		.word	1061752795
 140 00bc DB0FC93F 		.word	1070141403
 141              		.cfi_endproc
 142              	.LFE136:
 144              		.section	.text.ArmControl_Init,"ax",%progbits
 145              		.align	1
 146              		.global	ArmControl_Init
 147              		.syntax unified
 148              		.thumb
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccmat23d.s 			page 5


 149              		.thumb_func
 151              	ArmControl_Init:
 152              	.LFB134:
  33:Module/arm_control/arm_control.c ****     // 初始化工作空间映射
 153              		.loc 1 33 28 is_stmt 1 view -0
 154              		.cfi_startproc
 155              		@ args = 0, pretend = 0, frame = 0
 156              		@ frame_needed = 0, uses_anonymous_args = 0
 157 0000 08B5     		push	{r3, lr}
 158              	.LCFI0:
 159              		.cfi_def_cfa_offset 8
 160              		.cfi_offset 3, -8
 161              		.cfi_offset 14, -4
  35:Module/arm_control/arm_control.c ****     Set_Stick_Channels(0, 1); // 通道0控制X轴，通道1控制Y轴
 162              		.loc 1 35 5 view .LVU33
 163 0002 0748     		ldr	r0, .L23
 164 0004 FFF7FEFF 		bl	Mapping_Init
 165              	.LVL7:
  36:Module/arm_control/arm_control.c ****     
 166              		.loc 1 36 5 view .LVU34
 167 0008 0121     		movs	r1, #1
 168 000a 0020     		movs	r0, #0
 169 000c FFF7FEFF 		bl	Set_Stick_Channels
 170              	.LVL8:
  39:Module/arm_control/arm_control.c ****     
 171              		.loc 1 39 5 view .LVU35
 172 0010 FFF7FEFF 		bl	dm4310_motor_init
 173              	.LVL9:
  42:Module/arm_control/arm_control.c ****     
 174              		.loc 1 42 5 view .LVU36
 175 0014 FFF7FEFF 		bl	ctrl_enable
 176              	.LVL10:
  45:Module/arm_control/arm_control.c **** }
 177              		.loc 1 45 5 view .LVU37
  45:Module/arm_control/arm_control.c **** }
 178              		.loc 1 45 15 is_stmt 0 view .LVU38
 179 0018 024B     		ldr	r3, .L23+4
 180 001a 0022     		movs	r2, #0
 181 001c 1A70     		strb	r2, [r3]
  46:Module/arm_control/arm_control.c **** 
 182              		.loc 1 46 1 view .LVU39
 183 001e 08BD     		pop	{r3, pc}
 184              	.L24:
 185              		.align	2
 186              	.L23:
 187 0020 00000000 		.word	workspace_config
 188 0024 00000000 		.word	arm_state
 189              		.cfi_endproc
 190              	.LFE134:
 192              		.section	.text.Set_Target_Position,"ax",%progbits
 193              		.align	1
 194              		.global	Set_Target_Position
 195              		.syntax unified
 196              		.thumb
 197              		.thumb_func
 199              	Set_Target_Position:
 200              	.LFB135:
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccmat23d.s 			page 6


  49:Module/arm_control/arm_control.c ****     current_target = target;
 201              		.loc 1 49 42 is_stmt 1 view -0
 202              		.cfi_startproc
 203              		@ args = 0, pretend = 0, frame = 8
 204              		@ frame_needed = 0, uses_anonymous_args = 0
 205              		@ link register save eliminated.
 206 0000 82B0     		sub	sp, sp, #8
 207              	.LCFI1:
 208              		.cfi_def_cfa_offset 8
 209 0002 8DED000A 		vstr.32	s0, [sp]
 210 0006 CDED010A 		vstr.32	s1, [sp, #4]
  50:Module/arm_control/arm_control.c ****     arm_state = ARM_MOVING;
 211              		.loc 1 50 5 view .LVU41
  50:Module/arm_control/arm_control.c ****     arm_state = ARM_MOVING;
 212              		.loc 1 50 20 is_stmt 0 view .LVU42
 213 000a 054B     		ldr	r3, .L27
 214 000c 02AA     		add	r2, sp, #8
 215 000e 12E90300 		ldmdb	r2, {r0, r1}
 216 0012 83E80300 		stm	r3, {r0, r1}
  51:Module/arm_control/arm_control.c **** }
 217              		.loc 1 51 5 is_stmt 1 view .LVU43
  51:Module/arm_control/arm_control.c **** }
 218              		.loc 1 51 15 is_stmt 0 view .LVU44
 219 0016 034B     		ldr	r3, .L27+4
 220 0018 0122     		movs	r2, #1
 221 001a 1A70     		strb	r2, [r3]
  52:Module/arm_control/arm_control.c **** 
 222              		.loc 1 52 1 view .LVU45
 223 001c 02B0     		add	sp, sp, #8
 224              	.LCFI2:
 225              		.cfi_def_cfa_offset 0
 226              		@ sp needed
 227 001e 7047     		bx	lr
 228              	.L28:
 229              		.align	2
 230              	.L27:
 231 0020 00000000 		.word	current_target
 232 0024 00000000 		.word	arm_state
 233              		.cfi_endproc
 234              	.LFE135:
 236              		.section	.text.ArmControl_Update,"ax",%progbits
 237              		.align	1
 238              		.global	ArmControl_Update
 239              		.syntax unified
 240              		.thumb
 241              		.thumb_func
 243              	ArmControl_Update:
 244              	.LFB137:
  79:Module/arm_control/arm_control.c **** 
  80:Module/arm_control/arm_control.c **** // 更新机械臂控制
  81:Module/arm_control/arm_control.c **** void ArmControl_Update(void) {
 245              		.loc 1 81 30 is_stmt 1 view -0
 246              		.cfi_startproc
 247              		@ args = 0, pretend = 0, frame = 0
 248              		@ frame_needed = 0, uses_anonymous_args = 0
  82:Module/arm_control/arm_control.c ****     // 空闲状态等待新目标
  83:Module/arm_control/arm_control.c ****     if (arm_state == ARM_IDLE) {
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccmat23d.s 			page 7


 249              		.loc 1 83 5 view .LVU47
 250              		.loc 1 83 19 is_stmt 0 view .LVU48
 251 0000 144B     		ldr	r3, .L37
 252 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 253              		.loc 1 83 8 view .LVU49
 254 0004 03B9     		cbnz	r3, .L36
 255 0006 7047     		bx	lr
 256              	.L36:
  81:Module/arm_control/arm_control.c ****     // 空闲状态等待新目标
 257              		.loc 1 81 30 view .LVU50
 258 0008 10B5     		push	{r4, lr}
 259              	.LCFI3:
 260              		.cfi_def_cfa_offset 8
 261              		.cfi_offset 4, -8
 262              		.cfi_offset 14, -4
  84:Module/arm_control/arm_control.c ****         return;
  85:Module/arm_control/arm_control.c ****     }
  86:Module/arm_control/arm_control.c ****     
  87:Module/arm_control/arm_control.c ****     // 1. 运动学求解
  88:Module/arm_control/arm_control.c ****     JointAngles solutions[2];
 263              		.loc 1 88 5 is_stmt 1 view .LVU51
  89:Module/arm_control/arm_control.c ****     int num_solutions = IK_Solve(current_target, 
 264              		.loc 1 89 5 view .LVU52
 265              		.loc 1 89 25 is_stmt 0 view .LVU53
 266 000a 9FED131A 		vldr.32	s2, .L37+4
 267 000e 134B     		ldr	r3, .L37+8
 268 0010 1349     		ldr	r1, .L37+12
 269 0012 1448     		ldr	r0, .L37+16
 270 0014 F0EE411A 		vmov.f32	s3, s2
 271 0018 93ED000A 		vldr.32	s0, [r3]
 272 001c D3ED010A 		vldr.32	s1, [r3, #4]
 273 0020 FFF7FEFF 		bl	IK_Solve
 274              	.LVL11:
  90:Module/arm_control/arm_control.c ****                                  arm_config.L1, 
  91:Module/arm_control/arm_control.c ****                                  arm_config.L2, 
  92:Module/arm_control/arm_control.c ****                                  &arm_config.limits, 
  93:Module/arm_control/arm_control.c ****                                  &current_angles); // 传递当前角度
  94:Module/arm_control/arm_control.c ****     
  95:Module/arm_control/arm_control.c ****     if (num_solutions == 0) {
 275              		.loc 1 95 5 is_stmt 1 view .LVU54
 276              		.loc 1 95 8 is_stmt 0 view .LVU55
 277 0024 18B9     		cbnz	r0, .L31
  96:Module/arm_control/arm_control.c ****         // 无解情况处理
  97:Module/arm_control/arm_control.c ****         arm_state = ARM_ERROR;
 278              		.loc 1 97 9 is_stmt 1 view .LVU56
 279              		.loc 1 97 19 is_stmt 0 view .LVU57
 280 0026 0B4B     		ldr	r3, .L37
 281 0028 0222     		movs	r2, #2
 282 002a 1A70     		strb	r2, [r3]
  98:Module/arm_control/arm_control.c ****         return;
 283              		.loc 1 98 9 is_stmt 1 view .LVU58
 284              	.LVL12:
 285              	.L29:
  99:Module/arm_control/arm_control.c ****     }
 100:Module/arm_control/arm_control.c ****     
 101:Module/arm_control/arm_control.c ****     // 选择最优解（IK_Solve已将结果写入current_angles）
 102:Module/arm_control/arm_control.c ****     // target_angles = current_angles; // 不再需要
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccmat23d.s 			page 8


 103:Module/arm_control/arm_control.c ****     
 104:Module/arm_control/arm_control.c ****     // 2. 平滑角度过渡
 105:Module/arm_control/arm_control.c ****     Smooth_Angle_Transition();
 106:Module/arm_control/arm_control.c ****     
 107:Module/arm_control/arm_control.c ****     // 3. 设置电机角度
 108:Module/arm_control/arm_control.c ****     // 假设Motor1对应theta1，Motor2对应theta2
 109:Module/arm_control/arm_control.c ****     motor[Motor1].cmd.pos_set = current_angles.theta1;
 110:Module/arm_control/arm_control.c ****     motor[Motor2].cmd.pos_set = current_angles.theta2;
 111:Module/arm_control/arm_control.c ****     
 112:Module/arm_control/arm_control.c ****     // 应用设置
 113:Module/arm_control/arm_control.c ****     dm4310_set(&motor[Motor1]);
 114:Module/arm_control/arm_control.c ****     dm4310_set(&motor[Motor2]);
 115:Module/arm_control/arm_control.c ****     
 116:Module/arm_control/arm_control.c ****     // 发送控制命令
 117:Module/arm_control/arm_control.c ****     ctrl_send();
 118:Module/arm_control/arm_control.c **** }
 286              		.loc 1 118 1 is_stmt 0 view .LVU59
 287 002c 10BD     		pop	{r4, pc}
 288              	.LVL13:
 289              	.L31:
 105:Module/arm_control/arm_control.c ****     
 290              		.loc 1 105 5 is_stmt 1 view .LVU60
 291 002e FFF7FEFF 		bl	Smooth_Angle_Transition
 292              	.LVL14:
 109:Module/arm_control/arm_control.c ****     motor[Motor2].cmd.pos_set = current_angles.theta2;
 293              		.loc 1 109 5 view .LVU61
 109:Module/arm_control/arm_control.c ****     motor[Motor2].cmd.pos_set = current_angles.theta2;
 294              		.loc 1 109 47 is_stmt 0 view .LVU62
 295 0032 0B4B     		ldr	r3, .L37+12
 296 0034 1A68     		ldr	r2, [r3]	@ float
 109:Module/arm_control/arm_control.c ****     motor[Motor2].cmd.pos_set = current_angles.theta2;
 297              		.loc 1 109 31 view .LVU63
 298 0036 0C4C     		ldr	r4, .L37+20
 299 0038 A265     		str	r2, [r4, #88]	@ float
 110:Module/arm_control/arm_control.c ****     
 300              		.loc 1 110 5 is_stmt 1 view .LVU64
 110:Module/arm_control/arm_control.c ****     
 301              		.loc 1 110 47 is_stmt 0 view .LVU65
 302 003a 5B68     		ldr	r3, [r3, #4]	@ float
 110:Module/arm_control/arm_control.c ****     
 303              		.loc 1 110 31 view .LVU66
 304 003c C4F8C430 		str	r3, [r4, #196]	@ float
 113:Module/arm_control/arm_control.c ****     dm4310_set(&motor[Motor2]);
 305              		.loc 1 113 5 is_stmt 1 view .LVU67
 306 0040 2046     		mov	r0, r4
 307 0042 FFF7FEFF 		bl	dm4310_set
 308              	.LVL15:
 114:Module/arm_control/arm_control.c ****     
 309              		.loc 1 114 5 view .LVU68
 310 0046 04F16C00 		add	r0, r4, #108
 311 004a FFF7FEFF 		bl	dm4310_set
 312              	.LVL16:
 117:Module/arm_control/arm_control.c **** }
 313              		.loc 1 117 5 view .LVU69
 314 004e FFF7FEFF 		bl	ctrl_send
 315              	.LVL17:
 316 0052 EBE7     		b	.L29
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccmat23d.s 			page 9


 317              	.L38:
 318              		.align	2
 319              	.L37:
 320 0054 00000000 		.word	arm_state
 321 0058 9A99193E 		.word	1041865114
 322 005c 00000000 		.word	current_target
 323 0060 00000000 		.word	current_angles
 324 0064 08000000 		.word	arm_config+8
 325 0068 00000000 		.word	motor
 326              		.cfi_endproc
 327              	.LFE137:
 329              		.section	.text.Get_Arm_State,"ax",%progbits
 330              		.align	1
 331              		.global	Get_Arm_State
 332              		.syntax unified
 333              		.thumb
 334              		.thumb_func
 336              	Get_Arm_State:
 337              	.LFB138:
 119:Module/arm_control/arm_control.c **** 
 120:Module/arm_control/arm_control.c **** // 获取当前机械臂状态
 121:Module/arm_control/arm_control.c **** ArmState Get_Arm_State(void) {
 338              		.loc 1 121 30 view -0
 339              		.cfi_startproc
 340              		@ args = 0, pretend = 0, frame = 0
 341              		@ frame_needed = 0, uses_anonymous_args = 0
 342              		@ link register save eliminated.
 122:Module/arm_control/arm_control.c ****     return arm_state;
 343              		.loc 1 122 5 view .LVU71
 123:Module/arm_control/arm_control.c **** }...
 344              		.loc 1 123 1 is_stmt 0 view .LVU72
 345 0000 014B     		ldr	r3, .L40
 346 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 347 0004 7047     		bx	lr
 348              	.L41:
 349 0006 00BF     		.align	2
 350              	.L40:
 351 0008 00000000 		.word	arm_state
 352              		.cfi_endproc
 353              	.LFE138:
 355              		.section	.data.current_angles,"aw"
 356              		.align	2
 359              	current_angles:
 360 0000 DB0F493F 		.word	1061752795
 361 0004 DB0FC93F 		.word	1070141403
 362              		.section	.data.current_target,"aw"
 363              		.align	2
 366              	current_target:
 367 0000 00000000 		.word	0
 368 0004 CDCC4C3E 		.word	1045220557
 369              		.section	.bss.arm_state,"aw",%nobits
 372              	arm_state:
 373 0000 00       		.space	1
 374              		.section	.data.workspace_config,"aw"
 375              		.align	2
 378              	workspace_config:
 379 0000 9A9999BE 		.word	-1097229926
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccmat23d.s 			page 10


 380 0004 9A99993E 		.word	1050253722
 381 0008 CDCCCC3D 		.word	1036831949
 382 000c 0000003F 		.word	1056964608
 383 0010 0AD7A33C 		.word	1017370378
 384              		.section	.rodata.arm_config,"a"
 385              		.align	2
 388              	arm_config:
 389 0000 9A99193E 		.word	1041865114
 390 0004 9A99193E 		.word	1041865114
 391 0008 00000000 		.word	0
 392 000c DB0F4940 		.word	1078530011
 393 0010 00000000 		.word	0
 394 0014 DB0F4940 		.word	1078530011
 395              		.text
 396              	.Letext0:
 397              		.file 2 "D:/enviroment/msys2/mingw64/arm-none-eabi/include/machine/_default_types.h"
 398              		.file 3 "D:/enviroment/msys2/mingw64/arm-none-eabi/include/sys/_stdint.h"
 399              		.file 4 "Module/kinematic/kinematic_solver.h"
 400              		.file 5 "Module/coordinate/coordinate_mapping.h"
 401              		.file 6 "Module/motor/dm_drv.h"
 402              		.file 7 "Module/arm_control/arm_control.h"
 403              		.file 8 "Module/motor/dm_ctrl.h"
 404              		.file 9 "D:/enviroment/msys2/mingw64/arm-none-eabi/include/math.h"
ARM GAS  C:\Users\30514\AppData\Local\Temp\ccmat23d.s 			page 11


DEFINED SYMBOLS
                            *ABS*:00000000 arm_control.c
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:21     .text.Smooth_Angle_Transition:00000000 $t
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:26     .text.Smooth_Angle_Transition:00000000 Smooth_Angle_Transition
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:132    .text.Smooth_Angle_Transition:0000009c $d
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:359    .data.current_angles:00000000 current_angles
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:372    .bss.arm_state:00000000 arm_state
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:145    .text.ArmControl_Init:00000000 $t
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:151    .text.ArmControl_Init:00000000 ArmControl_Init
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:187    .text.ArmControl_Init:00000020 $d
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:378    .data.workspace_config:00000000 workspace_config
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:193    .text.Set_Target_Position:00000000 $t
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:199    .text.Set_Target_Position:00000000 Set_Target_Position
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:231    .text.Set_Target_Position:00000020 $d
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:366    .data.current_target:00000000 current_target
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:237    .text.ArmControl_Update:00000000 $t
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:243    .text.ArmControl_Update:00000000 ArmControl_Update
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:320    .text.ArmControl_Update:00000054 $d
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:388    .rodata.arm_config:00000000 arm_config
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:330    .text.Get_Arm_State:00000000 $t
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:336    .text.Get_Arm_State:00000000 Get_Arm_State
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:351    .text.Get_Arm_State:00000008 $d
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:356    .data.current_angles:00000000 $d
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:363    .data.current_target:00000000 $d
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:373    .bss.arm_state:00000000 $d
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:375    .data.workspace_config:00000000 $d
C:\Users\30514\AppData\Local\Temp\ccmat23d.s:385    .rodata.arm_config:00000000 $d

UNDEFINED SYMBOLS
Mapping_Init
Set_Stick_Channels
dm4310_motor_init
ctrl_enable
IK_Solve
dm4310_set
ctrl_send
motor
